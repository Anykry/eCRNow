2024-09-05 15:42:42.366  INFO 70881 --- [main] com.drajer.ecrapp.EcrApp                 : Starting EcrApp v0.0.1-SNAPSHOT using Java 22.0.1 on MacBook-Pro-2019.local with PID 70881 (/Users/andrewkrylov/eCRNow/target/ecr-now.war started by andrewkrylov in /Users/andrewkrylov/eCRNow)
2024-09-05 15:42:42.370  INFO 70881 --- [main] com.drajer.ecrapp.EcrApp                 : No active profile set, falling back to 1 default profile: "default"
2024-09-05 15:42:44.563  INFO 70881 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-05 15:42:44.607  INFO 70881 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 JPA repository interfaces.
2024-09-05 15:42:45.118  INFO 70881 --- [main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version 5.4.0 - Rev b463b072c8
2024-09-05 15:42:45.128  INFO 70881 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 15:42:46.232  INFO 70881 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2024-09-05 15:42:46.247  INFO 70881 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-05 15:42:46.247  INFO 70881 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
2024-09-05 15:42:52.809  INFO 70881 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-05 15:42:52.809  INFO 70881 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10355 ms
2024-09-05 15:42:53.428  INFO 70881 --- [main] o.s.boot.web.servlet.RegistrationBean    : Filter requestMDCFilter was not registered (possibly already registered?)
2024-09-05 15:42:54.298  INFO 70881 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2024-09-05 15:42:54.710  INFO 70881 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-09-05 15:42:54.879  WARN 70881 --- [main] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2024-09-05 15:42:54.879  INFO 70881 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-05 15:42:55.099  INFO 70881 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-05 15:42:55.121  INFO 70881 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2024-09-05 15:42:55.598  WARN 70881 --- [main] org.hibernate.mapping.RootClass          : HHH000038: Composite-id class does not override equals(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-05 15:42:55.598  WARN 70881 --- [main] org.hibernate.mapping.RootClass          : HHH000039: Composite-id class does not override hashCode(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-05 15:42:55.935  INFO 70881 --- [main] c.drajer.bsa.model.PublicHealthMessage   : PublicHealthMessage initiated.
2024-09-05 15:42:56.709  INFO 70881 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-09-05 15:42:57.274  INFO 70881 --- [main] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  No custom queries defined
2024-09-05 15:42:57.304  INFO 70881 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 15:42:57.374  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-05 15:42:57.390  INFO 70881 --- [main] ca.uhn.fhir.util.XmlUtil                 : Unable to determine StAX implementation: java.xml/META-INF/MANIFEST.MF not found
2024-09-05 15:43:00.081  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-05 15:43:00.240  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-05 15:43:00.561  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-05 15:43:01.168  INFO 70881 --- [main] c.d.b.s.ScheduleJobConfiguration         : Initializing the One time task
2024-09-05 15:43:01.188  INFO 70881 --- [main] c.d.ecrapp.config.TaskConfiguration      : Initializing the One time task
2024-09-05 15:43:01.191  INFO 70881 --- [main] c.d.ecrapp.config.TaskConfiguration      : One time task execution done
2024-09-05 15:43:01.240 DEBUG 70881 --- [main] .b.a.DbSchedulerMetricsAutoConfiguration : Spring Boot Actuator and Micrometer detected. Will use: io.micrometer.core.instrument.simple.SimpleMeterRegistry for StatsRegistry
2024-09-05 15:43:01.251  INFO 70881 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : Creating db-scheduler using tasks from Spring context: [OneTimeTask name=BsaScheduledJob, OneTimeTask name=EICRTask]
2024-09-05 15:43:01.252 DEBUG 70881 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : The configured DataSource is not transaction aware: 'HikariDataSource (HikariPool-1)'. Wrapping in TransactionAwareDataSourceProxy.
2024-09-05 15:43:01.265 DEBUG 70881 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detecting database...
2024-09-05 15:43:01.281  INFO 70881 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detected database PostgreSQL.
2024-09-05 15:43:01.281  INFO 70881 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Using PostgreSQL jdbc-overrides.
2024-09-05 15:43:01.290  INFO 70881 --- [main] c.g.k.scheduler.SchedulerBuilder         : Creating scheduler with configuration: threads=10, pollInterval=10s, heartbeat=60s enable-immediate-execution=false, table-name=scheduled_tasks, name=eCRNow-Instance-1
2024-09-05 15:43:01.297  INFO 70881 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Using polling-strategy: type=FETCH, lowerLimit=0.5, upperLimit=3.0
2024-09-05 15:43:01.837  INFO 70881 --- [main] c.d.e.service.PlanDefinitionProcessor    :  Reading ERSD Bundle File 
2024-09-05 15:43:01.840 ERROR 70881 --- [main] c.d.e.service.PlanDefinitionProcessor    : Exception Reading ERSD File

java.io.FileNotFoundException: /users/andrewkrylov/Downloads/ersd.json (No such file or directory)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.readErsdBundleFromFile(PlanDefinitionProcessor.java:343)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.processResourceBundle(PlanDefinitionProcessor.java:100)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.initializeClientMethods(PlanDefinitionProcessor.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.drajer.ecrapp.EcrApp.main(EcrApp.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)

2024-09-05 15:43:01.892  INFO 70881 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 15:43:02.212  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-05 15:43:03.324  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-05 15:43:03.412  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-05 15:43:03.710  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-05 15:43:04.223  INFO 70881 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Persisting Kars for each Repo 
2024-09-05 15:43:04.382  WARN 70881 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: c7804e7d-2250-4f49-b421-0c5692bfa0de

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-09-05 15:43:04.501  INFO 70881 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-05 15:43:04.502  INFO 70881 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Security Configuration 
2024-09-05 15:43:04.502  INFO 70881 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-05 15:43:04.502  INFO 70881 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Token Filter class Name is empty
2024-09-05 15:43:04.508  WARN 70881 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/meta/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-05 15:43:04.508  INFO 70881 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/meta/**']
2024-09-05 15:43:04.509  WARN 70881 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/actuator/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-05 15:43:04.509  INFO 70881 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/actuator/**']
2024-09-05 15:43:04.696  INFO 70881 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48632f69, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fde1d64, org.springframework.security.web.context.SecurityContextPersistenceFilter@2bf3ec4, org.springframework.security.web.header.HeaderWriterFilter@ae3c140, org.springframework.security.web.authentication.logout.LogoutFilter@5c8b10b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c6379c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@625264ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5350ab17, org.springframework.security.web.session.SessionManagementFilter@7eae55, org.springframework.security.web.access.ExceptionTranslationFilter@78eafad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30798137]
2024-09-05 15:43:06.042  INFO 70881 --- [main] c.g.k.s.b.config.startup.ImmediateStart  : Triggering scheduler start
2024-09-05 15:43:06.055  INFO 70881 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Starting scheduler.
2024-09-05 15:43:06.057 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:43:06.070 DEBUG 70881 --- [main] b.a.DbSchedulerActuatorAutoConfiguration : Exposing health indicator for db-scheduler
2024-09-05 15:43:06.072 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:06.074 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:43:06.853  INFO 70881 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2024-09-05 15:43:06.987  INFO 70881 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2024-09-05 15:43:07.016  INFO 70881 --- [main] com.drajer.ecrapp.EcrApp                 : Started EcrApp in 25.908 seconds (JVM running for 26.916)
2024-09-05 15:43:16.079 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:26.076 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:36.064 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:46.058 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:56.059 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:06.062 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:16.066 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:26.071 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:36.076 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:46.082 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:56.088 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:06.054 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:45:06.054 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:45:06.094 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:16.098 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:26.104 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:36.109 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:46.115 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:56.121 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:06.127 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:16.133 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:26.139 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:36.145 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:46.149 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:56.155 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:06.061 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:47:06.062 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:47:06.159 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:16.165 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:26.170 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:36.176 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:46.182 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:56.187 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:06.194 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:16.200 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:26.206 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:36.211 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:46.217 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:56.222 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:06.067 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:49:06.068 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:49:06.225 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:16.231 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:26.236 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:36.243 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:46.249 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:56.255 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:06.262 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:16.268 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:26.274 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:36.279 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:46.286 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:56.291 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:06.074 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:51:06.075 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:51:06.298 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:16.306 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:26.312 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:36.318 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:46.323 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:56.328 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:06.335 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:16.341 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:26.349 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:36.355 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:46.359 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:50.593  INFO 70881 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-05 15:52:50.594  INFO 70881 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-05 15:52:50.612  INFO 70881 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2024-09-05 15:52:50.665  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 15:52:50.665  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 15:52:50.665  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 15:52:50.665  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 15:52:50.896  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 15:52:50.896  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 15:52:51.067  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 15:52:51.153  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 15:52:56.365 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:06.085 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:53:06.085 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:53:06.369 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:16.375 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:26.379 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:36.384 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:46.389 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:55.099  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 15:53:55.099  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 15:53:55.099  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 15:53:55.100  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 15:53:55.102  INFO 70881 --- [http-nio-8081-exec-4] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 15:53:55.102  INFO 70881 --- [http-nio-8081-exec-4] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 15:53:55.103  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 15:53:55.107  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 15:53:56.395 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:06.400 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:16.405 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:26.410 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:36.416 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:46.422 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:56.428 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:06.091 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:55:06.092 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:55:06.434 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:16.439 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:26.446 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:36.452 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:46.457 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:56.463 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:06.468 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:16.474 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:26.479 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:36.485 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:46.491 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:56.497 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:06.094 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:57:06.094 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:57:06.502 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:16.507 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:26.524 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:36.530 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:46.547 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:56.553 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:06.558 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:16.563 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:26.569 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:36.575 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:46.579 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:55.772  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 15:58:55.773  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 15:58:55.773  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 15:58:55.773  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 15:58:55.776  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 15:58:55.776  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 15:58:55.779  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 15:58:55.784  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 15:58:56.596 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:06.098 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:59:06.099 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:59:06.602 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:16.612 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:26.620 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:36.642 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:46.648 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:56.654 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:06.660 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:16.667 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:26.672 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:36.678 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:46.684 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:56.691 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:06.103 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:01:06.104 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:01:06.694 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:16.700 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:26.707 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:36.711 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:46.716 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:56.723 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:06.729 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:16.736 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:25.534  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:02:25.535  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:02:25.535  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:02:25.535  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:02:25.543  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:02:25.544  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:02:25.546  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:02:25.556  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:02:26.742 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:36.749 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:46.070  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:02:46.071  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:02:46.071  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:02:46.071  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:02:46.072  INFO 70881 --- [http-nio-8081-exec-9] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:02:46.072  INFO 70881 --- [http-nio-8081-exec-9] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:02:46.073  WARN 70881 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:02:46.076  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:02:46.757 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:56.763 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:06.106 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:03:06.107 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:03:06.768 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:16.773 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:26.780 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:36.787 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:46.793 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:53.712  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: b7f3ea57-9920-4401-a329-0943946b6140
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId b7f3ea57-9920-4401-a329-0943946b6140 associated to correlationId null for domain null
2024-09-05 16:03:53.712  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 922d5622-2374-46b3-bc7a-534d2c37d72f
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 922d5622-2374-46b3-bc7a-534d2c37d72f associated to correlationId null for domain null
2024-09-05 16:03:53.830  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 922d5622-2374-46b3-bc7a-534d2c37d72f associated to correlationId null for domain null
2024-09-05 16:03:53.835  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId b7f3ea57-9920-4401-a329-0943946b6140 associated to correlationId null for domain null
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 50cab39c-c730-49d3-af43-c50fe34097cf
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 50cab39c-c730-49d3-af43-c50fe34097cf associated to correlationId null for domain null
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 32732800-7640-4a47-a214-469e3d7ce16d
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:03:53.846  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:03:53.846  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 32732800-7640-4a47-a214-469e3d7ce16d associated to correlationId null for domain null
2024-09-05 16:03:53.905  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:03:53.909  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:03:53.929  INFO 70881 --- [http-nio-8081-exec-4] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:03:53.933  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 32732800-7640-4a47-a214-469e3d7ce16d associated to correlationId null for domain null
2024-09-05 16:03:53.933  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 50cab39c-c730-49d3-af43-c50fe34097cf associated to correlationId null for domain null
2024-09-05 16:03:56.799 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:06.803 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:16.809 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:26.694  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ef47881d-cd99-4c7f-8e73-45a1ed86c3a3
2024-09-05 16:04:26.694  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:26.694  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:26.694  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId ef47881d-cd99-4c7f-8e73-45a1ed86c3a3 associated to correlationId null for domain null
2024-09-05 16:04:26.696  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId ef47881d-cd99-4c7f-8e73-45a1ed86c3a3 associated to correlationId null for domain null
2024-09-05 16:04:26.759  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 62ff3234-8cb3-4b75-837e-2b82f326cdac
2024-09-05 16:04:26.760  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:26.760  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:26.760  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 62ff3234-8cb3-4b75-837e-2b82f326cdac associated to correlationId null for domain null
2024-09-05 16:04:26.816 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:26.871  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:26.876  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:04:27.082  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 62ff3234-8cb3-4b75-837e-2b82f326cdac associated to correlationId null for domain null
2024-09-05 16:04:27.111  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 8de17673-85cf-4233-a5d3-d8010c025007
2024-09-05 16:04:27.111  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:27.111  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:27.111  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 8de17673-85cf-4233-a5d3-d8010c025007 associated to correlationId null for domain null
2024-09-05 16:04:27.113  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 8de17673-85cf-4233-a5d3-d8010c025007 associated to correlationId null for domain null
2024-09-05 16:04:27.119  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 2919de52-034d-4b4e-964d-cda82f37ae19
2024-09-05 16:04:27.121  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:27.121  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:27.121  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 2919de52-034d-4b4e-964d-cda82f37ae19 associated to correlationId null for domain null
2024-09-05 16:04:27.130  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 2919de52-034d-4b4e-964d-cda82f37ae19 associated to correlationId null for domain null
2024-09-05 16:04:27.205  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 58a0b215-79d2-4a55-b933-904b70f012e9
2024-09-05 16:04:27.206  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:27.207  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:27.207  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 58a0b215-79d2-4a55-b933-904b70f012e9 associated to correlationId null for domain null
2024-09-05 16:04:27.213  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:27.269  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 58a0b215-79d2-4a55-b933-904b70f012e9 associated to correlationId null for domain null
2024-09-05 16:04:33.880  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:04:33.881  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:33.881  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:33.881  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:04:33.883  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:04:33.883  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:04:33.883  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:33.886  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:04:36.834 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:46.840 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:56.846 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:58.030  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:04:58.031  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:58.031  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:58.031  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:04:58.034  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:04:58.034  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:04:58.035  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:58.038  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:58.081  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:04:58.086  INFO 70881 --- [http-nio-8081-exec-3] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:04:58.089  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:04:58.090  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:04:58.097  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:04:58.097  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ect
2024-09-05 16:04:58.097  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:04:58.875 ERROR 70881 --- [http-nio-8081-exec-3] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:04:58.877  INFO 70881 --- [http-nio-8081-exec-3] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:04:58.882  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:04:58.885 ERROR 70881 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:05:06.110 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:05:06.110 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:05:06.852 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:16.894 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:26.901 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:36.904 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:46.909 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:56.917 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:06.921 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:16.926 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:26.931 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:36.933 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:46.936 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:56.941 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:06.115 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:07:06.116 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:07:06.945 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:16.947 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:26.953 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:36.958 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:46.965 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:56.970 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:06.978 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:16.982 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:17.886  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 29bc2035-40af-4952-afe8-f850ea283d93
2024-09-05 16:08:17.886  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 094a4d21-a423-4d65-9277-0c8e05fc5498
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 094a4d21-a423-4d65-9277-0c8e05fc5498 associated to correlationId null for domain null
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 29bc2035-40af-4952-afe8-f850ea283d93 associated to correlationId null for domain null
2024-09-05 16:08:17.899  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:17.900  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:17.907  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 29bc2035-40af-4952-afe8-f850ea283d93 associated to correlationId null for domain null
2024-09-05 16:08:17.909  INFO 70881 --- [http-nio-8081-exec-7] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:08:17.912  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 094a4d21-a423-4d65-9277-0c8e05fc5498 associated to correlationId null for domain null
2024-09-05 16:08:26.985 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:36.106  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: cff8cf55-e6bb-46a1-9c4f-65924d4de72b
2024-09-05 16:08:36.107  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:36.107  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:36.107  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId cff8cf55-e6bb-46a1-9c4f-65924d4de72b associated to correlationId null for domain null
2024-09-05 16:08:36.113  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:36.119  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:36.123  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:08:36.128  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId cff8cf55-e6bb-46a1-9c4f-65924d4de72b associated to correlationId null for domain null
2024-09-05 16:08:36.163  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 88961c4d-2708-4cd2-a851-9c3d6d53b445
2024-09-05 16:08:36.163  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:36.164  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:36.164  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 88961c4d-2708-4cd2-a851-9c3d6d53b445 associated to correlationId null for domain null
2024-09-05 16:08:36.168  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 88961c4d-2708-4cd2-a851-9c3d6d53b445 associated to correlationId null for domain null
2024-09-05 16:08:36.214  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: dd2ad5d7-4664-4710-b743-f23a319c0e8e
2024-09-05 16:08:36.214  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:36.214  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:36.214  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId dd2ad5d7-4664-4710-b743-f23a319c0e8e associated to correlationId null for domain null
2024-09-05 16:08:36.216  WARN 70881 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:36.222  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId dd2ad5d7-4664-4710-b743-f23a319c0e8e associated to correlationId null for domain null
2024-09-05 16:08:36.991 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:43.597  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: e358372a-34fd-4f73-b187-7ec89edbd32c
2024-09-05 16:08:43.597  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:43.597  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:43.597  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId e358372a-34fd-4f73-b187-7ec89edbd32c associated to correlationId null for domain null
2024-09-05 16:08:43.605  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:43.608  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: b1516fc7-a803-4209-930d-25ff7897c580
2024-09-05 16:08:43.609  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:43.610  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:43.611  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId b1516fc7-a803-4209-930d-25ff7897c580 associated to correlationId null for domain null
2024-09-05 16:08:43.616  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId e358372a-34fd-4f73-b187-7ec89edbd32c associated to correlationId null for domain null
2024-09-05 16:08:43.619  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:43.625  INFO 70881 --- [http-nio-8081-exec-2] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:08:43.629  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId b1516fc7-a803-4209-930d-25ff7897c580 associated to correlationId null for domain null
2024-09-05 16:08:46.996 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:57.002 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:05.374  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 505c705a-9a67-4a0e-b099-7f3fd9c5b211
2024-09-05 16:09:05.375  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:05.375  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:05.375  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 505c705a-9a67-4a0e-b099-7f3fd9c5b211 associated to correlationId null for domain null
2024-09-05 16:09:05.380  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:05.388  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 505c705a-9a67-4a0e-b099-7f3fd9c5b211 associated to correlationId null for domain null
2024-09-05 16:09:06.120 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:09:06.120 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:09:07.004 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:07.199  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 88eb435e-292c-41eb-8b5f-874f871d2d9c
2024-09-05 16:09:07.199  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:07.199  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:07.199  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 88eb435e-292c-41eb-8b5f-874f871d2d9c associated to correlationId null for domain null
2024-09-05 16:09:07.202  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:07.204  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 88eb435e-292c-41eb-8b5f-874f871d2d9c associated to correlationId null for domain null
2024-09-05 16:09:07.207  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: a363b593-87c2-4ff6-abd7-a194fcf823ed
2024-09-05 16:09:07.207  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:07.207  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:07.207  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId a363b593-87c2-4ff6-abd7-a194fcf823ed associated to correlationId null for domain null
2024-09-05 16:09:07.210  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:07.214  INFO 70881 --- [http-nio-8081-exec-5] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:09:07.217  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId a363b593-87c2-4ff6-abd7-a194fcf823ed associated to correlationId null for domain null
2024-09-05 16:09:12.606  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 9263732b-08b2-4a83-a58c-1068de3cd9f1
2024-09-05 16:09:12.606  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:12.606  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:12.606  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 9263732b-08b2-4a83-a58c-1068de3cd9f1 associated to correlationId null for domain null
2024-09-05 16:09:12.608  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:12.614  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 9263732b-08b2-4a83-a58c-1068de3cd9f1 associated to correlationId null for domain null
2024-09-05 16:09:15.840  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f4a324ab-731d-4235-bfb3-b0d3aec0f23e
2024-09-05 16:09:15.841  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:15.841  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:15.842  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId f4a324ab-731d-4235-bfb3-b0d3aec0f23e associated to correlationId null for domain null
2024-09-05 16:09:15.844  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:15.856  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId f4a324ab-731d-4235-bfb3-b0d3aec0f23e associated to correlationId null for domain null
2024-09-05 16:09:17.008 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:17.285  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: fc23471f-de17-4bac-81ca-68ad98ba2f25
2024-09-05 16:09:17.286  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:17.286  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:17.286  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId fc23471f-de17-4bac-81ca-68ad98ba2f25 associated to correlationId null for domain null
2024-09-05 16:09:17.287  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:17.293  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId fc23471f-de17-4bac-81ca-68ad98ba2f25 associated to correlationId null for domain null
2024-09-05 16:09:17.295  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 1b6f466e-a231-4fd5-be79-883e357d0266
2024-09-05 16:09:17.295  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:17.295  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:17.295  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 1b6f466e-a231-4fd5-be79-883e357d0266 associated to correlationId null for domain null
2024-09-05 16:09:17.312  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:17.315  INFO 70881 --- [http-nio-8081-exec-10] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:09:17.318  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 1b6f466e-a231-4fd5-be79-883e357d0266 associated to correlationId null for domain null
2024-09-05 16:09:27.013 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:30.143  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:09:30.143  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:30.143  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:30.144  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:09:30.145  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:09:30.146  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:09:30.146  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:30.148  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ect
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:09:30.447 ERROR 70881 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:09:30.447  INFO 70881 --- [http-nio-8081-exec-1] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:09:30.448  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:09:30.450 ERROR 70881 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:09:37.014 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:47.019 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:57.020 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:07.025 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:17.030 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:27.035 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:37.036 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:47.043 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:51.809  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 412c749f-affd-4d0b-a013-c23573c7f7b4
2024-09-05 16:10:51.809  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:51.809  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:51.809  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 412c749f-affd-4d0b-a013-c23573c7f7b4 associated to correlationId null for domain null
2024-09-05 16:10:51.811  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:51.813  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:51.817  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:10:51.822  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 412c749f-affd-4d0b-a013-c23573c7f7b4 associated to correlationId null for domain null
2024-09-05 16:10:51.873  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 08744554-35a6-48cf-944c-d805ebaa5b69
2024-09-05 16:10:51.874  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:51.874  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:51.874  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 08744554-35a6-48cf-944c-d805ebaa5b69 associated to correlationId null for domain null
2024-09-05 16:10:51.877  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 08744554-35a6-48cf-944c-d805ebaa5b69 associated to correlationId null for domain null
2024-09-05 16:10:51.913  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 2030c845-ec27-4ac9-87c9-cc78ba8572d8
2024-09-05 16:10:51.913  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:51.914  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:51.914  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 2030c845-ec27-4ac9-87c9-cc78ba8572d8 associated to correlationId null for domain null
2024-09-05 16:10:51.915  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:51.923  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 2030c845-ec27-4ac9-87c9-cc78ba8572d8 associated to correlationId null for domain null
2024-09-05 16:10:53.369  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 208afe87-7100-4729-b921-53095166b7da
2024-09-05 16:10:53.370  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:53.370  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:53.371  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 208afe87-7100-4729-b921-53095166b7da associated to correlationId null for domain null
2024-09-05 16:10:53.373  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:53.374  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c8d51391-6c1a-4b41-971d-c240c9a2516d
2024-09-05 16:10:53.375  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:53.375  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:53.375  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId c8d51391-6c1a-4b41-971d-c240c9a2516d associated to correlationId null for domain null
2024-09-05 16:10:53.381  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:53.384  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 208afe87-7100-4729-b921-53095166b7da associated to correlationId null for domain null
2024-09-05 16:10:53.386  INFO 70881 --- [http-nio-8081-exec-8] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:10:53.390  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId c8d51391-6c1a-4b41-971d-c240c9a2516d associated to correlationId null for domain null
2024-09-05 16:10:57.045 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:06.127 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:11:06.128 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:11:07.051 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:17.058 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:27.061 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:37.063 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:47.067 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:57.071 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:57.108  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 4bfb0b89-73d0-4a90-bbeb-29f47b58cd18
2024-09-05 16:11:57.108  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:11:57.108  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:11:57.108  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 4bfb0b89-73d0-4a90-bbeb-29f47b58cd18 associated to correlationId null for domain null
2024-09-05 16:11:57.110  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:11:57.114  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:11:57.117  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:11:57.151  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 4bfb0b89-73d0-4a90-bbeb-29f47b58cd18 associated to correlationId null for domain null
2024-09-05 16:11:57.156 ERROR 70881 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:320)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:643)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.service.impl.HealthcareSettingsServiceImpl$$EnhancerBySpringCGLIB$$7679aec8.saveOrUpdate(<generated>)
	at com.drajer.bsa.controller.HealthcareSettingsController.updateHealthcareSettings(HealthcareSettingsController.java:135)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:558)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:12:07.075 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:14.328  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: da3f49ca-e193-41da-a081-38d9751c5ef8
2024-09-05 16:12:14.328  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:12:14.328  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:12:14.328  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId da3f49ca-e193-41da-a081-38d9751c5ef8 associated to correlationId null for domain null
2024-09-05 16:12:14.330  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:12:14.333  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:12:14.335  INFO 70881 --- [http-nio-8081-exec-4] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:12:14.336  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId da3f49ca-e193-41da-a081-38d9751c5ef8 associated to correlationId null for domain null
2024-09-05 16:12:14.337 ERROR 70881 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:320)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:643)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.service.impl.HealthcareSettingsServiceImpl$$EnhancerBySpringCGLIB$$7679aec8.saveOrUpdate(<generated>)
	at com.drajer.bsa.controller.HealthcareSettingsController.updateHealthcareSettings(HealthcareSettingsController.java:135)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:558)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:12:17.081 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:27.084 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:37.085 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:47.089 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:57.095 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:06.131 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:13:06.131 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:13:07.098 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:17.104 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:18.879  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ef024478-23d7-4692-b3c9-3fd8dfc5166e
2024-09-05 16:13:18.879  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:18.879  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:18.880  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId ef024478-23d7-4692-b3c9-3fd8dfc5166e associated to correlationId null for domain null
2024-09-05 16:13:18.883  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:18.892  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:18.895  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:13:18.900  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId ef024478-23d7-4692-b3c9-3fd8dfc5166e associated to correlationId null for domain null
2024-09-05 16:13:18.931  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: d6421651-07fe-444b-a850-43f4a789a2f5
2024-09-05 16:13:18.931  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:18.932  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:18.932  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId d6421651-07fe-444b-a850-43f4a789a2f5 associated to correlationId null for domain null
2024-09-05 16:13:18.934  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId d6421651-07fe-444b-a850-43f4a789a2f5 associated to correlationId null for domain null
2024-09-05 16:13:18.966  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 9a32b5d4-3616-4658-b921-bd785d9f049a
2024-09-05 16:13:18.966  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:18.966  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:18.966  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 9a32b5d4-3616-4658-b921-bd785d9f049a associated to correlationId null for domain null
2024-09-05 16:13:18.970  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:18.976  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 9a32b5d4-3616-4658-b921-bd785d9f049a associated to correlationId null for domain null
2024-09-05 16:13:27.107 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:30.598  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:13:30.598  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:30.598  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:30.598  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:13:30.600  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:13:30.600  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:13:30.600  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:30.602  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:13:30.943 ERROR 70881 --- [http-nio-8081-exec-6] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:13:30.954  INFO 70881 --- [http-nio-8081-exec-6] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:13:30.955  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:13:30.956 ERROR 70881 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:13:37.112 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:47.116 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:53.161  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ac8e5e45-bb7e-4952-a18b-9310ca85088a
2024-09-05 16:13:53.162  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:53.162  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:53.162  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId ac8e5e45-bb7e-4952-a18b-9310ca85088a associated to correlationId null for domain null
2024-09-05 16:13:53.164  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:53.168  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId ac8e5e45-bb7e-4952-a18b-9310ca85088a associated to correlationId null for domain null
2024-09-05 16:13:53.173  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 5046f0be-bdbd-44ea-9885-00bcd760a1e9
2024-09-05 16:13:53.173  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:53.174  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:53.174  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 5046f0be-bdbd-44ea-9885-00bcd760a1e9 associated to correlationId null for domain null
2024-09-05 16:13:53.177  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:53.183  INFO 70881 --- [http-nio-8081-exec-10] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:13:53.185  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 5046f0be-bdbd-44ea-9885-00bcd760a1e9 associated to correlationId null for domain null
2024-09-05 16:13:57.119 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:07.122 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:08.166  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ae0aa9ee-83ce-4afa-8f69-7290da503318
2024-09-05 16:14:08.166  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:08.166  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:08.166  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ being handled for requestId ae0aa9ee-83ce-4afa-8f69-7290da503318 associated to correlationId null for domain null
2024-09-05 16:14:08.199  WARN 70881 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:08.225  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ completed for requestId ae0aa9ee-83ce-4afa-8f69-7290da503318 associated to correlationId null for domain null
2024-09-05 16:14:17.127 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:27.134 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:35.180  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: cc2594ec-35a9-4787-b171-149dc356a277
2024-09-05 16:14:35.180  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:35.180  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:35.180  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails being handled for requestId cc2594ec-35a9-4787-b171-149dc356a277 associated to correlationId null for domain null
2024-09-05 16:14:35.182  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails completed for requestId cc2594ec-35a9-4787-b171-149dc356a277 associated to correlationId null for domain null
2024-09-05 16:14:35.185  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f22d8081-4886-48c9-a1c0-ab95cae942d9
2024-09-05 16:14:35.186  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:35.186  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:35.186  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails being handled for requestId f22d8081-4886-48c9-a1c0-ab95cae942d9 associated to correlationId null for domain null
2024-09-05 16:14:35.204  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:35.208  INFO 70881 --- [http-nio-8081-exec-4] c.d.sof.launch.ClientDetailsController   : Saving the Client Details
2024-09-05 16:14:37.140 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:38.173  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ab4704b9-1b8f-41ba-9f01-270e7c542272
2024-09-05 16:14:38.173  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:38.173  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:38.174  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ being handled for requestId ab4704b9-1b8f-41ba-9f01-270e7c542272 associated to correlationId null for domain null
2024-09-05 16:14:38.175  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:38.180  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ completed for requestId ab4704b9-1b8f-41ba-9f01-270e7c542272 associated to correlationId null for domain null
2024-09-05 16:14:39.849  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails completed for requestId f22d8081-4886-48c9-a1c0-ab95cae942d9 associated to correlationId null for domain null
2024-09-05 16:14:45.824  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 874cdcdb-11be-4822-9b3f-0b3adce4a055
2024-09-05 16:14:45.824  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:45.825  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:45.825  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 874cdcdb-11be-4822-9b3f-0b3adce4a055 associated to correlationId null for domain null
2024-09-05 16:14:45.827  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:45.831  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 874cdcdb-11be-4822-9b3f-0b3adce4a055 associated to correlationId null for domain null
2024-09-05 16:14:47.146 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:47.160  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: df969455-e246-4a00-b2b8-db55ffcb5530
2024-09-05 16:14:47.160  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:47.160  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:47.160  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId df969455-e246-4a00-b2b8-db55ffcb5530 associated to correlationId null for domain null
2024-09-05 16:14:47.162  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:47.164  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId df969455-e246-4a00-b2b8-db55ffcb5530 associated to correlationId null for domain null
2024-09-05 16:14:47.166  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: b2d88505-1b01-48fd-a0e5-88bb07c1879a
2024-09-05 16:14:47.166  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:47.166  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:47.166  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId b2d88505-1b01-48fd-a0e5-88bb07c1879a associated to correlationId null for domain null
2024-09-05 16:14:47.169  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:47.176  INFO 70881 --- [http-nio-8081-exec-7] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:14:47.180  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId b2d88505-1b01-48fd-a0e5-88bb07c1879a associated to correlationId null for domain null
2024-09-05 16:14:57.151 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:05.217  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:15:05.218  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:15:05.218  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:15:05.218  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:15:05.219  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:15:05.219  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:15:05.220  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:15:05.222  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:15:05.225  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:15:05.716 ERROR 70881 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:15:05.718  INFO 70881 --- [http-nio-8081-exec-8] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:15:05.718  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:15:05.719 ERROR 70881 --- [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:15:06.134 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:15:06.134 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:15:07.156 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:17.158 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:27.163 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:37.167 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:47.174 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:57.180 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:16:07.187 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:16:17.210 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:16:27.235 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:03.253 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:13.266 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:21.494  WARN 70881 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m56s24ms).
2024-09-05 16:20:23.278 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:32.181 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:20:32.182 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:20:33.283 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:43.290 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:07.608  WARN 70881 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m46s128ms).
2024-09-05 16:23:09.402 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:19.446 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:29.458 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:39.468 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:49.482 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:04.943 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:13.081  WARN 70881 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m35s459ms).
2024-09-05 16:44:14.951 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:24.958 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:34.962 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:44.968 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:53.751 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:44:53.753 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:45:17.029 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:45:27.038 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:45:33.774  WARN 70881 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s683ms).
2024-09-05 16:45:37.041 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:45:47.051 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:45:57.064 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:04.066  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:46:04.067  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:46:04.068  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:46:04.068  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:46:04.105  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:46:04.106  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:46:04.112  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:46:04.139  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:46:04.154  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:46:04.902 ERROR 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:46:04.903  INFO 70881 --- [http-nio-8081-exec-2] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:46:04.905  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:46:04.908 ERROR 70881 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:46:07.083 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:17.088 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:27.094 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:37.100 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:47.106 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:57.113 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:07.119 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:14.456 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:47:14.456 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:47:17.124 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:27.130 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:37.136 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:42.666  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 7ecc7b3c-c0a2-4e73-9f5a-743f17ca3e8f
2024-09-05 16:47:42.667  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:47:42.667  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:47:42.667  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 7ecc7b3c-c0a2-4e73-9f5a-743f17ca3e8f associated to correlationId null for domain null
2024-09-05 16:47:42.675  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:47:42.685  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 7ecc7b3c-c0a2-4e73-9f5a-743f17ca3e8f associated to correlationId null for domain null
2024-09-05 16:47:45.265  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ba520537-e0e1-436d-9916-7d37b1fe3aa8
2024-09-05 16:47:45.266  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:47:45.267  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:47:45.267  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId ba520537-e0e1-436d-9916-7d37b1fe3aa8 associated to correlationId null for domain null
2024-09-05 16:47:45.274  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0bc473b4-8752-4ebd-80a2-204a213298f0
2024-09-05 16:47:45.274  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:47:45.274  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:47:45.274  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 0bc473b4-8752-4ebd-80a2-204a213298f0 associated to correlationId null for domain null
2024-09-05 16:47:45.275  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:47:45.286  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:47:45.288  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId ba520537-e0e1-436d-9916-7d37b1fe3aa8 associated to correlationId null for domain null
2024-09-05 16:47:45.307  INFO 70881 --- [http-nio-8081-exec-5] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:47:45.309  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 0bc473b4-8752-4ebd-80a2-204a213298f0 associated to correlationId null for domain null
2024-09-05 16:47:47.142 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:57.146 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:07.152 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:17.157 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:27.165 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:37.170 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:47.176 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:57.181 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:07.187 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:08.537  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c069eee8-ad47-4e2f-986a-815f84ac7e2e
2024-09-05 16:49:08.537  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:49:08.537  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:49:08.537  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId c069eee8-ad47-4e2f-986a-815f84ac7e2e associated to correlationId null for domain null
2024-09-05 16:49:08.539  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:49:08.554  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId c069eee8-ad47-4e2f-986a-815f84ac7e2e associated to correlationId null for domain null
2024-09-05 16:49:11.915  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 956d96a3-5900-4d7b-b3ae-52e507920c83
2024-09-05 16:49:11.916  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:49:11.916  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:49:11.916  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 956d96a3-5900-4d7b-b3ae-52e507920c83 associated to correlationId null for domain null
2024-09-05 16:49:11.917  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f5e57be9-612e-48a1-91a1-3088b4df5d67
2024-09-05 16:49:11.918  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:49:11.918  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:49:11.918  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId f5e57be9-612e-48a1-91a1-3088b4df5d67 associated to correlationId null for domain null
2024-09-05 16:49:11.919  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:49:11.922  WARN 70881 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:49:11.935  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 956d96a3-5900-4d7b-b3ae-52e507920c83 associated to correlationId null for domain null
2024-09-05 16:49:11.941  INFO 70881 --- [http-nio-8081-exec-9] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:49:11.946  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId f5e57be9-612e-48a1-91a1-3088b4df5d67 associated to correlationId null for domain null
2024-09-05 16:49:14.465 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:49:14.465 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:49:17.193 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:27.200 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:37.206 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:47.212 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:57.218 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:07.224 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:17.230 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:27.260 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:37.266 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:47.271 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:57.277 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:07.282 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:11.174  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 75236026-c310-4e03-9b4e-e8944aef5fdf
2024-09-05 16:51:11.174  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:11.174  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:11.174  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 75236026-c310-4e03-9b4e-e8944aef5fdf associated to correlationId null for domain null
2024-09-05 16:51:11.186  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:51:11.194  INFO 70881 --- [http-nio-8081-exec-4] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:51:11.212  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 75236026-c310-4e03-9b4e-e8944aef5fdf associated to correlationId null for domain null
2024-09-05 16:51:11.251  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f32dfeb2-e3b6-4d8b-b8d5-a202bed96cc7
2024-09-05 16:51:11.251  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:11.251  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:11.252  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId f32dfeb2-e3b6-4d8b-b8d5-a202bed96cc7 associated to correlationId null for domain null
2024-09-05 16:51:11.258  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId f32dfeb2-e3b6-4d8b-b8d5-a202bed96cc7 associated to correlationId null for domain null
2024-09-05 16:51:11.292  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0fcb0913-0aaf-44d2-9868-9fed1af52b44
2024-09-05 16:51:11.294  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:11.294  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:11.294  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 0fcb0913-0aaf-44d2-9868-9fed1af52b44 associated to correlationId null for domain null
2024-09-05 16:51:11.297  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:51:11.308  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 0fcb0913-0aaf-44d2-9868-9fed1af52b44 associated to correlationId null for domain null
2024-09-05 16:51:14.342  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f0a26e15-b09d-48df-8007-6fb85ed106bb
2024-09-05 16:51:14.342  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:14.342  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:14.342  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId f0a26e15-b09d-48df-8007-6fb85ed106bb associated to correlationId null for domain null
2024-09-05 16:51:14.345  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:51:14.351  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId f0a26e15-b09d-48df-8007-6fb85ed106bb associated to correlationId null for domain null
2024-09-05 16:51:14.358  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: a4ed5a68-84d7-48c1-b018-fc855eb822f4
2024-09-05 16:51:14.360  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:14.360  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:14.360  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId a4ed5a68-84d7-48c1-b018-fc855eb822f4 associated to correlationId null for domain null
2024-09-05 16:51:14.364  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:51:14.375  INFO 70881 --- [http-nio-8081-exec-6] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:51:14.376  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId a4ed5a68-84d7-48c1-b018-fc855eb822f4 associated to correlationId null for domain null
2024-09-05 16:51:14.473 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:51:14.473 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:51:17.289 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:27.295 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:37.300 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:47.306 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:57.311 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:52:04.464  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:52:04.464  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:52:04.464  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:52:04.464  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:04.465  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:52:04.466  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:52:04.466  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:04.468  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:52:05.125 ERROR 70881 --- [http-nio-8081-exec-10] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: "{"error":"invalid_scope","error_description":"Invalid scopes: launch online_access offline_access user/*.read"}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:101)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:05.127  INFO 70881 --- [http-nio-8081-exec-10] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:52:05.128  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:05.128 ERROR 70881 --- [http-nio-8081-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:07.316 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:52:11.558  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:52:11.559  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:52:11.559  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:52:11.559  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:11.560  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:52:11.560  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:52:11.561  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:11.563  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:52:11.918 ERROR 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: "{"error":"invalid_scope","error_description":"Invalid scopes: launch online_access offline_access user/*.read"}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:101)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:11.919  INFO 70881 --- [http-nio-8081-exec-2] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:52:11.919  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:11.920 ERROR 70881 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:17.024  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:52:17.024  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:52:17.024  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:52:17.024  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:17.025  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:52:17.026  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:52:17.027  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:17.030  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:52:17.323 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:52:18.286 ERROR 70881 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: "{"error":"invalid_scope","error_description":"Invalid scopes: launch online_access offline_access user/*.read"}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:101)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:18.288  INFO 70881 --- [http-nio-8081-exec-5] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:52:18.289  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:18.290 ERROR 70881 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:27.328 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:52:35.768  INFO 70881 --- [SpringApplicationShutdownHook] c.g.kagkarlsson.scheduler.Scheduler      : Shutting down Scheduler.
2024-09-05 16:52:35.769 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] c.g.k.scheduler.RunUntilShutdown         : Thread 'db-scheduler-execute-due-pool-2-thread-1' interrupted due to shutdown.
2024-09-05 16:52:35.770  INFO 70881 --- [SpringApplicationShutdownHook] c.github.kagkarlsson.scheduler.Executor  : Letting running executions finish. Will wait up to 2xPT30M.
2024-09-05 16:52:35.770  INFO 70881 --- [SpringApplicationShutdownHook] c.github.kagkarlsson.scheduler.Executor  : Scheduler stopped.
2024-09-05 16:52:35.800  INFO 70881 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-05 16:52:35.806  INFO 70881 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-05 16:52:39.439  INFO 13585 --- [main] com.drajer.ecrapp.EcrApp                 : Starting EcrApp v0.0.1-SNAPSHOT using Java 22.0.1 on MacBook-Pro-2019.local with PID 13585 (/Users/andrewkrylov/eCRNow/target/ecr-now.war started by andrewkrylov in /Users/andrewkrylov/eCRNow)
2024-09-05 16:52:39.443  INFO 13585 --- [main] com.drajer.ecrapp.EcrApp                 : No active profile set, falling back to 1 default profile: "default"
2024-09-05 16:52:41.520  INFO 13585 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-05 16:52:41.722  INFO 13585 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 183 ms. Found 0 JPA repository interfaces.
2024-09-05 16:52:42.225  INFO 13585 --- [main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version 5.4.0 - Rev b463b072c8
2024-09-05 16:52:42.234  INFO 13585 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:52:43.463  INFO 13585 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2024-09-05 16:52:43.476  INFO 13585 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-05 16:52:43.477  INFO 13585 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
2024-09-05 16:52:48.498  INFO 13585 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-05 16:52:48.499  INFO 13585 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8974 ms
2024-09-05 16:52:49.290  INFO 13585 --- [main] o.s.boot.web.servlet.RegistrationBean    : Filter requestMDCFilter was not registered (possibly already registered?)
2024-09-05 16:52:49.952  INFO 13585 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2024-09-05 16:52:50.289  INFO 13585 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-09-05 16:52:50.420  WARN 13585 --- [main] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2024-09-05 16:52:50.420  INFO 13585 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-05 16:52:50.660  INFO 13585 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-05 16:52:50.688  INFO 13585 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2024-09-05 16:52:51.227  WARN 13585 --- [main] org.hibernate.mapping.RootClass          : HHH000038: Composite-id class does not override equals(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-05 16:52:51.227  WARN 13585 --- [main] org.hibernate.mapping.RootClass          : HHH000039: Composite-id class does not override hashCode(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-05 16:52:51.560  INFO 13585 --- [main] c.drajer.bsa.model.PublicHealthMessage   : PublicHealthMessage initiated.
2024-09-05 16:52:52.460  INFO 13585 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-09-05 16:52:52.992  INFO 13585 --- [main] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  No custom queries defined
2024-09-05 16:52:53.023  INFO 13585 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:52:53.109  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-05 16:52:53.141  INFO 13585 --- [main] ca.uhn.fhir.util.XmlUtil                 : Unable to determine StAX implementation: java.xml/META-INF/MANIFEST.MF not found
2024-09-05 16:52:55.626  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-05 16:52:55.736  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-05 16:52:56.141  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-05 16:52:56.498  INFO 13585 --- [main] c.d.b.s.ScheduleJobConfiguration         : Initializing the One time task
2024-09-05 16:52:56.512  INFO 13585 --- [main] c.d.ecrapp.config.TaskConfiguration      : Initializing the One time task
2024-09-05 16:52:56.512  INFO 13585 --- [main] c.d.ecrapp.config.TaskConfiguration      : One time task execution done
2024-09-05 16:52:56.535 DEBUG 13585 --- [main] .b.a.DbSchedulerMetricsAutoConfiguration : Spring Boot Actuator and Micrometer detected. Will use: io.micrometer.core.instrument.simple.SimpleMeterRegistry for StatsRegistry
2024-09-05 16:52:56.542  INFO 13585 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : Creating db-scheduler using tasks from Spring context: [OneTimeTask name=BsaScheduledJob, OneTimeTask name=EICRTask]
2024-09-05 16:52:56.543 DEBUG 13585 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : The configured DataSource is not transaction aware: 'HikariDataSource (HikariPool-1)'. Wrapping in TransactionAwareDataSourceProxy.
2024-09-05 16:52:56.549 DEBUG 13585 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detecting database...
2024-09-05 16:52:56.560  INFO 13585 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detected database PostgreSQL.
2024-09-05 16:52:56.560  INFO 13585 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Using PostgreSQL jdbc-overrides.
2024-09-05 16:52:56.568  INFO 13585 --- [main] c.g.k.scheduler.SchedulerBuilder         : Creating scheduler with configuration: threads=10, pollInterval=10s, heartbeat=60s enable-immediate-execution=false, table-name=scheduled_tasks, name=eCRNow-Instance-1
2024-09-05 16:52:56.573  INFO 13585 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Using polling-strategy: type=FETCH, lowerLimit=0.5, upperLimit=3.0
2024-09-05 16:52:56.911  INFO 13585 --- [main] c.d.e.service.PlanDefinitionProcessor    :  Reading ERSD Bundle File 
2024-09-05 16:52:56.914 ERROR 13585 --- [main] c.d.e.service.PlanDefinitionProcessor    : Exception Reading ERSD File

java.io.FileNotFoundException: /users/andrewkrylov/Downloads/ersd.json (No such file or directory)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.readErsdBundleFromFile(PlanDefinitionProcessor.java:343)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.processResourceBundle(PlanDefinitionProcessor.java:100)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.initializeClientMethods(PlanDefinitionProcessor.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.drajer.ecrapp.EcrApp.main(EcrApp.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)

2024-09-05 16:52:56.957  INFO 13585 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:52:57.127  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-05 16:52:58.117  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-05 16:52:58.195  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-05 16:52:58.427  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-05 16:52:58.708  INFO 13585 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Persisting Kars for each Repo 
2024-09-05 16:52:58.898  WARN 13585 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 432457d9-b060-4a62-9c24-533500228a61

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-09-05 16:52:59.005  INFO 13585 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-05 16:52:59.016  INFO 13585 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Security Configuration 
2024-09-05 16:52:59.016  INFO 13585 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-05 16:52:59.016  INFO 13585 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Token Filter class Name is empty
2024-09-05 16:52:59.022  WARN 13585 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/meta/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-05 16:52:59.023  INFO 13585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/meta/**']
2024-09-05 16:52:59.023  WARN 13585 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/actuator/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-05 16:52:59.024  INFO 13585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/actuator/**']
2024-09-05 16:52:59.186  INFO 13585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58cda03f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7757a37f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7df4709e, org.springframework.security.web.header.HeaderWriterFilter@563172d3, org.springframework.security.web.authentication.logout.LogoutFilter@1a0d313, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@559fd5ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18989e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2109a691, org.springframework.security.web.session.SessionManagementFilter@785a4557, org.springframework.security.web.access.ExceptionTranslationFilter@782cc5fa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f06ebe0]
2024-09-05 16:53:00.856  INFO 13585 --- [main] c.g.k.s.b.config.startup.ImmediateStart  : Triggering scheduler start
2024-09-05 16:53:00.856  INFO 13585 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Starting scheduler.
2024-09-05 16:53:00.858 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:53:00.860 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:53:00.868 DEBUG 13585 --- [main] b.a.DbSchedulerActuatorAutoConfiguration : Exposing health indicator for db-scheduler
2024-09-05 16:53:00.873 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:01.740  INFO 13585 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2024-09-05 16:53:01.869  INFO 13585 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2024-09-05 16:53:01.897  INFO 13585 --- [main] com.drajer.ecrapp.EcrApp                 : Started EcrApp in 23.331 seconds (JVM running for 24.181)
2024-09-05 16:53:10.879 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:20.889 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:30.895 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:40.902 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:50.932 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:00.938 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:10.943 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:20.951 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:30.957 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:36.232  INFO 13585 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-05 16:54:36.233  INFO 13585 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-05 16:54:36.239  INFO 13585 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2024-09-05 16:54:36.287  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 03268ce1-99df-40b0-8fc0-a6d419acd439
2024-09-05 16:54:36.287  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:54:36.287  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:54:36.287  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 03268ce1-99df-40b0-8fc0-a6d419acd439 associated to correlationId null for domain null
2024-09-05 16:54:36.525  WARN 13585 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:36.573  WARN 13585 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:36.593  INFO 13585 --- [http-nio-8081-exec-1] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:54:36.649  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 03268ce1-99df-40b0-8fc0-a6d419acd439 associated to correlationId null for domain null
2024-09-05 16:54:36.692  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 8f43b0e9-1ab9-47ff-abea-b8d2e7752ee2
2024-09-05 16:54:36.693  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:54:36.694  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:54:36.696  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 8f43b0e9-1ab9-47ff-abea-b8d2e7752ee2 associated to correlationId null for domain null
2024-09-05 16:54:36.716  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 8f43b0e9-1ab9-47ff-abea-b8d2e7752ee2 associated to correlationId null for domain null
2024-09-05 16:54:36.857  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 8600afb9-7209-4b5c-8ac5-78f10a1d70ce
2024-09-05 16:54:36.871  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:54:36.872  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:54:36.872  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 8600afb9-7209-4b5c-8ac5-78f10a1d70ce associated to correlationId null for domain null
2024-09-05 16:54:36.880  WARN 13585 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:36.899  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 8600afb9-7209-4b5c-8ac5-78f10a1d70ce associated to correlationId null for domain null
2024-09-05 16:54:40.964 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:41.051  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:54:41.051  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:54:41.051  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:54:41.051  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:54:41.056  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:54:41.056  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:54:41.057  WARN 13585 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:41.059  WARN 13585 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:41.078  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:54:41.079  INFO 13585 --- [http-nio-8081-exec-5] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:54:41.080  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:54:41.080  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:54:41.084  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 16:54:41.084  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:54:41.084  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:54:41.825 ERROR 13585 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$169cbf47.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:54:41.826  INFO 13585 --- [http-nio-8081-exec-5] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:54:41.829  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:54:41.831 ERROR 13585 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:54:50.970 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:00.875 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:55:00.876 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:55:00.978 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:10.983 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:20.989 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:30.427  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c8d7ac9b-dcb1-4f2d-aad3-a527564b4d7d
2024-09-05 16:55:30.428  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:55:30.428  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:55:30.428  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId c8d7ac9b-dcb1-4f2d-aad3-a527564b4d7d associated to correlationId null for domain null
2024-09-05 16:55:30.441  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 1aff3947-5c75-4299-a32f-e8128dda08ab
2024-09-05 16:55:30.442  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:55:30.443  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:55:30.443  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 1aff3947-5c75-4299-a32f-e8128dda08ab associated to correlationId null for domain null
2024-09-05 16:55:30.450  WARN 13585 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:55:30.456  WARN 13585 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:55:30.457  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId c8d7ac9b-dcb1-4f2d-aad3-a527564b4d7d associated to correlationId null for domain null
2024-09-05 16:55:30.460  INFO 13585 --- [http-nio-8081-exec-7] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:55:30.463  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 1aff3947-5c75-4299-a32f-e8128dda08ab associated to correlationId null for domain null
2024-09-05 16:55:30.995 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:41.000 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:51.007 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:01.014 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:11.020 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:21.025 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:31.030 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:41.036 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:51.039 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:00.880 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:57:00.881 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:57:01.048 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:11.052 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:21.064 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:31.070 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:41.074 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:51.082 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:55.261  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 1f46bdda-2163-4dd0-ac7b-be3d99a0b1f6
2024-09-05 16:57:55.262  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:57:55.263  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:57:55.263  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 1f46bdda-2163-4dd0-ac7b-be3d99a0b1f6 associated to correlationId null for domain null
2024-09-05 16:57:55.270  WARN 13585 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:57:55.273  WARN 13585 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:57:55.283  INFO 13585 --- [http-nio-8081-exec-10] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:57:55.292  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 1f46bdda-2163-4dd0-ac7b-be3d99a0b1f6 associated to correlationId null for domain null
2024-09-05 16:57:55.341  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 39b4224d-314d-4036-823f-ff92691276d4
2024-09-05 16:57:55.341  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:57:55.341  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:57:55.341  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 39b4224d-314d-4036-823f-ff92691276d4 associated to correlationId null for domain null
2024-09-05 16:57:55.350  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 39b4224d-314d-4036-823f-ff92691276d4 associated to correlationId null for domain null
2024-09-05 16:57:55.417  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: a9a4fb45-540a-4578-85e2-eb60348906fe
2024-09-05 16:57:55.418  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:57:55.418  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:57:55.418  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId a9a4fb45-540a-4578-85e2-eb60348906fe associated to correlationId null for domain null
2024-09-05 16:57:55.421  WARN 13585 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:57:55.432  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId a9a4fb45-540a-4578-85e2-eb60348906fe associated to correlationId null for domain null
2024-09-05 16:58:01.088 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:01.267  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:58:01.268  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:58:01.268  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:58:01.268  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:58:01.270  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:58:01.270  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:58:01.271  WARN 13585 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:01.274  WARN 13585 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:01.282  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:58:01.283  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:58:01.283  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:58:01.301 ERROR 13585 --- [http-nio-8081-exec-4] .d.b.a.i.BackendAuthorizationServiceImpl : Exception Occurred: 

java.io.FileNotFoundException: /users/andrewkrylov/ecrnow/aims.jks (No such file or directory)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:106)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.generateJwt(BackendAuthorizationServiceImpl.java:152)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.connectToServer(BackendAuthorizationServiceImpl.java:79)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.getAuthorizationToken(BackendAuthorizationServiceImpl.java:100)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl$$FastClassBySpringCGLIB$$8555f74d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl$$EnhancerBySpringCGLIB$$5270ea71.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:40)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:58:01.746 ERROR 13585 --- [http-nio-8081-exec-4] .d.b.a.i.BackendAuthorizationServiceImpl : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:474)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.connectToServer(BackendAuthorizationServiceImpl.java:91)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.getAuthorizationToken(BackendAuthorizationServiceImpl.java:100)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl$$FastClassBySpringCGLIB$$8555f74d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl$$EnhancerBySpringCGLIB$$5270ea71.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:40)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:58:01.747  INFO 13585 --- [http-nio-8081-exec-4] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:58:01.748  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:58:01.749 ERROR 13585 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:58:11.095 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:21.101 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:31.107 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:38.206  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 4ad4902f-cc3f-4cd6-b829-3d0ea104f5c5
2024-09-05 16:58:38.206  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:58:38.209  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:58:38.209  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0ce17f78-0133-4c75-a2c4-d51869c181da
2024-09-05 16:58:38.210  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:58:38.216  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:58:38.216  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 0ce17f78-0133-4c75-a2c4-d51869c181da associated to correlationId null for domain null
2024-09-05 16:58:38.209  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 4ad4902f-cc3f-4cd6-b829-3d0ea104f5c5 associated to correlationId null for domain null
2024-09-05 16:58:38.225  WARN 13585 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:38.231  WARN 13585 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:38.232  INFO 13585 --- [http-nio-8081-exec-6] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:58:38.236  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 4ad4902f-cc3f-4cd6-b829-3d0ea104f5c5 associated to correlationId null for domain null
2024-09-05 16:58:38.252  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 0ce17f78-0133-4c75-a2c4-d51869c181da associated to correlationId null for domain null
2024-09-05 16:58:41.113 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:51.119 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:57.597  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: e2bdde5a-6bf2-437e-ae82-a4ff618059a5
2024-09-05 16:58:57.598  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:58:57.598  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:58:57.598  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId e2bdde5a-6bf2-437e-ae82-a4ff618059a5 associated to correlationId null for domain null
2024-09-05 16:58:57.605  WARN 13585 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:57.613  WARN 13585 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:57.632  INFO 13585 --- [http-nio-8081-exec-7] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:58:57.651  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId e2bdde5a-6bf2-437e-ae82-a4ff618059a5 associated to correlationId null for domain null
2024-09-05 16:58:57.656 ERROR 13585 --- [http-nio-8081-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:320)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:643)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.service.impl.HealthcareSettingsServiceImpl$$EnhancerBySpringCGLIB$$d7ae220b.saveOrUpdate(<generated>)
	at com.drajer.bsa.controller.HealthcareSettingsController.updateHealthcareSettings(HealthcareSettingsController.java:135)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:558)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:59:00.889 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:59:00.891 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:59:01.125 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:11.132 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:21.138 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:31.144 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:33.668  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c1bb70b6-b974-4046-a212-f9459d7a9237
2024-09-05 16:59:33.669  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:33.669  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:33.669  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId c1bb70b6-b974-4046-a212-f9459d7a9237 associated to correlationId null for domain null
2024-09-05 16:59:33.677  WARN 13585 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:33.685  WARN 13585 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:33.689  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:59:33.695  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId c1bb70b6-b974-4046-a212-f9459d7a9237 associated to correlationId null for domain null
2024-09-05 16:59:33.734  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0c931dbb-7d44-4da9-a4c4-c4e5e84bc75d
2024-09-05 16:59:33.734  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:33.734  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:33.734  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 0c931dbb-7d44-4da9-a4c4-c4e5e84bc75d associated to correlationId null for domain null
2024-09-05 16:59:33.739  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 0c931dbb-7d44-4da9-a4c4-c4e5e84bc75d associated to correlationId null for domain null
2024-09-05 16:59:33.831  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ae6251d5-0486-4f11-80d0-91976a096fe1
2024-09-05 16:59:33.832  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:33.832  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:33.832  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId ae6251d5-0486-4f11-80d0-91976a096fe1 associated to correlationId null for domain null
2024-09-05 16:59:33.835  WARN 13585 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:33.843  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId ae6251d5-0486-4f11-80d0-91976a096fe1 associated to correlationId null for domain null
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ce8222f8-45ff-4863-a610-f1afbd8c2cc9
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: eaf63795-056a-4cbf-8d10-ad422df895a0
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId eaf63795-056a-4cbf-8d10-ad422df895a0 associated to correlationId null for domain null
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId ce8222f8-45ff-4863-a610-f1afbd8c2cc9 associated to correlationId null for domain null
2024-09-05 16:59:37.038  WARN 13585 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:37.038  WARN 13585 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:37.043  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId ce8222f8-45ff-4863-a610-f1afbd8c2cc9 associated to correlationId null for domain null
2024-09-05 16:59:37.049  INFO 13585 --- [http-nio-8081-exec-2] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:59:37.053  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId eaf63795-056a-4cbf-8d10-ad422df895a0 associated to correlationId null for domain null
2024-09-05 16:59:41.152 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:41.591  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0099748c-d797-4ecc-a5b5-9e52776b1823
2024-09-05 16:59:41.591  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:41.591  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:41.591  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 0099748c-d797-4ecc-a5b5-9e52776b1823 associated to correlationId null for domain null
2024-09-05 16:59:41.595  WARN 13585 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:41.599  WARN 13585 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:41.604  INFO 13585 --- [http-nio-8081-exec-3] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:59:41.650  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 0099748c-d797-4ecc-a5b5-9e52776b1823 associated to correlationId null for domain null
2024-09-05 16:59:41.752  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c8b3bbaf-c78f-45f8-97a8-b1fca7181070
2024-09-05 16:59:41.752  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:41.752  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:41.753  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId c8b3bbaf-c78f-45f8-97a8-b1fca7181070 associated to correlationId null for domain null
2024-09-05 16:59:41.773  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId c8b3bbaf-c78f-45f8-97a8-b1fca7181070 associated to correlationId null for domain null
2024-09-05 16:59:41.845  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c4e4df63-2241-4c43-a6c7-45640a5d10c5
2024-09-05 16:59:41.845  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:41.846  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:41.846  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId c4e4df63-2241-4c43-a6c7-45640a5d10c5 associated to correlationId null for domain null
2024-09-05 16:59:41.851  WARN 13585 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:41.864  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId c4e4df63-2241-4c43-a6c7-45640a5d10c5 associated to correlationId null for domain null
2024-09-05 16:59:51.159 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:01.164 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:11.170 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:21.179 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:31.184 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:40.100  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 17:00:40.100  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 17:00:40.101  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 17:00:40.101  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 17:00:40.103  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 17:00:40.104  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 17:00:40.105  WARN 13585 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 17:00:40.108  WARN 13585 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : cer
2024-09-05 17:00:40.118  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 17:00:41.189 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:43.667 ERROR 13585 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$169cbf47.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 17:00:43.667  INFO 13585 --- [http-nio-8081-exec-8] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 17:00:43.669  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 17:00:43.670 ERROR 13585 --- [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 17:00:51.195 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:00.898 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:01:00.949 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:01:01.201 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:11.214 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:21.224 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:31.228 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:41.235 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:51.242 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:01.250 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:11.257 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:21.262 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:31.269 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:41.275 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:51.280 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:01.002 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:03:01.002 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:03:01.286 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:11.291 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:21.297 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:31.302 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:41.309 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:51.315 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:01.321 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:11.326 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:21.333 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:31.339 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:41.345 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:51.350 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:01.010 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:05:01.010 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:05:01.356 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:11.361 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:21.368 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:31.373 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:41.380 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:51.397 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:01.405 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:11.411 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:21.416 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:31.422 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:41.428 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:51.433 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:01.020 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:07:01.020 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:07:01.438 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:11.444 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:21.449 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:31.455 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:41.459 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:51.466 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:01.472 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:11.476 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:21.482 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:31.489 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:41.495 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:51.501 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:00.947 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:09:00.948 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:09:01.423 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:11.435 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:27.568 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:37.606 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:47.622 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:57.630 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:10:07.638 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:05.107 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:13.325  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m15s998ms).
2024-09-05 17:23:15.118 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:25.116 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:35.127 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:45.136 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:52.414 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:23:52.417 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:23:55.144 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:45:25.842 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:45:34.037  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=21m50s708ms).
2024-09-05 17:45:35.863 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:45:45.883 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:45:55.902 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:46:05.913 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:04.776 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:14.784 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:22.911  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h24m18s855ms).
2024-09-05 19:10:24.793 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:34.797 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:44.907 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:09:23.205 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:09:27.975 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 20:09:27.977 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 20:11:13.379  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h19s849ms).
2024-09-05 20:11:14.581 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:11:24.637 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:11:34.652 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:11:44.664 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:11:54.676 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:12:28.345  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h44s885ms).
2024-09-05 21:12:30.011 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:12:39.848 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:12:45.332 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 21:12:45.335 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 21:12:49.861 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:12:59.871 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:13:09.883 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:13:45.247  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h45s428ms).
2024-09-05 22:13:46.031 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:13:56.248 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:14:06.256 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:14:16.266 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:14:26.270 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:23:40.462  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m24s277ms).
2024-09-05 22:23:40.453 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 22:23:41.060 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 22:23:41.632 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:23:51.640 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:24:01.653 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:24:11.665 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:24:21.679 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:45:28.703  INFO 31099 --- [main] com.drajer.ecrapp.EcrApp                 : Starting EcrApp v0.0.1-SNAPSHOT using Java 22.0.1 on MacBook-Pro-2019.local with PID 31099 (/Users/andrewkrylov/eCRNow/target/ecr-now.war started by andrewkrylov in /Users/andrewkrylov/eCRNow)
2024-09-06 14:45:28.705  INFO 31099 --- [main] com.drajer.ecrapp.EcrApp                 : No active profile set, falling back to 1 default profile: "default"
2024-09-06 14:45:30.142  INFO 31099 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-06 14:45:30.183  INFO 31099 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 JPA repository interfaces.
2024-09-06 14:45:30.493  INFO 31099 --- [main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version 5.4.0 - Rev b463b072c8
2024-09-06 14:45:30.508  INFO 31099 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-06 14:45:31.357  INFO 31099 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2024-09-06 14:45:31.374  INFO 31099 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-06 14:45:31.374  INFO 31099 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
2024-09-06 14:45:34.733  INFO 31099 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-06 14:45:34.733  INFO 31099 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5971 ms
2024-09-06 14:45:35.170  INFO 31099 --- [main] o.s.boot.web.servlet.RegistrationBean    : Filter requestMDCFilter was not registered (possibly already registered?)
2024-09-06 14:45:35.670  INFO 31099 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2024-09-06 14:45:35.891  INFO 31099 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-09-06 14:45:36.194  WARN 31099 --- [main] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2024-09-06 14:45:36.194  INFO 31099 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-06 14:45:36.411  INFO 31099 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-06 14:45:36.431  INFO 31099 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2024-09-06 14:45:36.786  WARN 31099 --- [main] org.hibernate.mapping.RootClass          : HHH000038: Composite-id class does not override equals(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-06 14:45:36.786  WARN 31099 --- [main] org.hibernate.mapping.RootClass          : HHH000039: Composite-id class does not override hashCode(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-06 14:45:37.017  INFO 31099 --- [main] c.drajer.bsa.model.PublicHealthMessage   : PublicHealthMessage initiated.
2024-09-06 14:45:37.534  INFO 31099 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-09-06 14:45:37.846  INFO 31099 --- [main] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  No custom queries defined
2024-09-06 14:45:37.865  INFO 31099 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-06 14:45:37.910  INFO 31099 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-06 14:45:37.931  INFO 31099 --- [main] ca.uhn.fhir.util.XmlUtil                 : Unable to determine StAX implementation: java.xml/META-INF/MANIFEST.MF not found
2024-09-06 14:45:40.105  INFO 31099 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-06 14:45:40.166  INFO 31099 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-06 14:45:40.444  INFO 31099 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-06 14:45:40.718  INFO 31099 --- [main] c.d.b.s.ScheduleJobConfiguration         : Initializing the One time task
2024-09-06 14:45:40.730  INFO 31099 --- [main] c.d.ecrapp.config.TaskConfiguration      : Initializing the One time task
2024-09-06 14:45:40.730  INFO 31099 --- [main] c.d.ecrapp.config.TaskConfiguration      : One time task execution done
2024-09-06 14:45:40.748 DEBUG 31099 --- [main] .b.a.DbSchedulerMetricsAutoConfiguration : Spring Boot Actuator and Micrometer detected. Will use: io.micrometer.core.instrument.simple.SimpleMeterRegistry for StatsRegistry
2024-09-06 14:45:40.753  INFO 31099 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : Creating db-scheduler using tasks from Spring context: [OneTimeTask name=BsaScheduledJob, OneTimeTask name=EICRTask]
2024-09-06 14:45:40.754 DEBUG 31099 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : The configured DataSource is not transaction aware: 'HikariDataSource (HikariPool-1)'. Wrapping in TransactionAwareDataSourceProxy.
2024-09-06 14:45:40.759 DEBUG 31099 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detecting database...
2024-09-06 14:45:40.767  INFO 31099 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detected database PostgreSQL.
2024-09-06 14:45:40.767  INFO 31099 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Using PostgreSQL jdbc-overrides.
2024-09-06 14:45:40.773  INFO 31099 --- [main] c.g.k.scheduler.SchedulerBuilder         : Creating scheduler with configuration: threads=10, pollInterval=10s, heartbeat=60s enable-immediate-execution=false, table-name=scheduled_tasks, name=eCRNow-Instance-1
2024-09-06 14:45:40.778  INFO 31099 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Using polling-strategy: type=FETCH, lowerLimit=0.5, upperLimit=3.0
2024-09-06 14:45:41.102  INFO 31099 --- [main] c.d.e.service.PlanDefinitionProcessor    :  Reading ERSD Bundle File 
2024-09-06 14:45:41.106 ERROR 31099 --- [main] c.d.e.service.PlanDefinitionProcessor    : Exception Reading ERSD File

java.io.FileNotFoundException: /users/andrewkrylov/Downloads/ersd.json (No such file or directory)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.readErsdBundleFromFile(PlanDefinitionProcessor.java:343)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.processResourceBundle(PlanDefinitionProcessor.java:100)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.initializeClientMethods(PlanDefinitionProcessor.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.drajer.ecrapp.EcrApp.main(EcrApp.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)

2024-09-06 14:45:41.151  INFO 31099 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-06 14:45:41.329  INFO 31099 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-06 14:45:42.043  INFO 31099 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-06 14:45:42.107  INFO 31099 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-06 14:45:42.245  INFO 31099 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-06 14:45:42.967  INFO 31099 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Persisting Kars for each Repo 
2024-09-06 14:45:43.481  WARN 31099 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: fb44865f-ab3f-4944-bda2-f272081c7466

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-09-06 14:45:43.714  INFO 31099 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-06 14:45:43.714  INFO 31099 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Security Configuration 
2024-09-06 14:45:43.714  INFO 31099 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-06 14:45:43.714  INFO 31099 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Token Filter class Name is empty
2024-09-06 14:45:43.724  WARN 31099 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/meta/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-06 14:45:43.725  INFO 31099 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/meta/**']
2024-09-06 14:45:43.726  WARN 31099 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/actuator/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-06 14:45:43.726  INFO 31099 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/actuator/**']
2024-09-06 14:45:44.100  INFO 31099 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@543b0737, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e46891d, org.springframework.security.web.context.SecurityContextPersistenceFilter@da34eb0, org.springframework.security.web.header.HeaderWriterFilter@782cc5fa, org.springframework.security.web.authentication.logout.LogoutFilter@202f054f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b5da0b0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7df4709e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48632f69, org.springframework.security.web.session.SessionManagementFilter@5086623f, org.springframework.security.web.access.ExceptionTranslationFilter@14485747, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4afdfc0f]
2024-09-06 14:45:45.056  INFO 31099 --- [main] c.g.k.s.b.config.startup.ImmediateStart  : Triggering scheduler start
2024-09-06 14:45:45.056  INFO 31099 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Starting scheduler.
2024-09-06 14:45:45.060 DEBUG 31099 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 14:45:45.062 DEBUG 31099 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 14:45:45.072 DEBUG 31099 --- [main] b.a.DbSchedulerActuatorAutoConfiguration : Exposing health indicator for db-scheduler
2024-09-06 14:45:45.081 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:45:45.652  INFO 31099 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2024-09-06 14:45:45.772  INFO 31099 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2024-09-06 14:45:45.796  INFO 31099 --- [main] com.drajer.ecrapp.EcrApp                 : Started EcrApp in 17.757 seconds (JVM running for 18.663)
2024-09-06 14:45:55.090 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:46:05.096 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:46:15.099 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:46:25.103 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:46:35.110 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:46:45.116 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:46:55.123 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:47:05.127 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:47:15.132 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:47:25.139 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:47:35.143 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:47:45.091 DEBUG 31099 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 14:47:45.092 DEBUG 31099 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 14:47:45.147 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:47:55.153 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:48:05.158 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:48:15.163 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:48:25.168 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:48:35.171 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:48:45.178 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:48:55.182 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:49:05.187 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:49:15.192 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:49:25.197 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:49:35.203 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:49:45.103 DEBUG 31099 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 14:49:45.104 DEBUG 31099 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 14:49:45.209 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:49:46.281  INFO 31099 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-06 14:49:46.281  INFO 31099 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-06 14:49:46.283  INFO 31099 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-09-06 14:49:46.309  INFO 31099 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-06 14:49:46.309  INFO 31099 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 14:49:46.310  INFO 31099 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 14:49:46.310  INFO 31099 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-06 14:49:46.415  INFO 31099 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-06 14:49:46.415  INFO 31099 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-06 14:49:46.485  WARN 31099 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 14:49:46.530  WARN 31099 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 14:49:46.556  INFO 31099 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-06 14:49:46.556  INFO 31099 --- [http-nio-8081-exec-1] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-06 14:49:46.557  INFO 31099 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-06 14:49:46.557  INFO 31099 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-06 14:49:46.560  INFO 31099 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-06 14:49:46.560  INFO 31099 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : cer
2024-09-06 14:49:46.561  INFO 31099 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-06 14:49:47.008 ERROR 31099 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$169cbf47.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-06 14:49:47.008  INFO 31099 --- [http-nio-8081-exec-1] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-06 14:49:47.012  INFO 31099 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-06 14:49:47.017 ERROR 31099 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-06 14:49:55.216 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:50:05.221 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:50:15.224 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:50:25.229 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:50:35.235 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:50:45.241 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:50:55.243 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:51:05.248 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:51:15.253 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:51:25.258 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:51:35.271 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 14:51:39.096  INFO 31099 --- [SpringApplicationShutdownHook] c.g.kagkarlsson.scheduler.Scheduler      : Shutting down Scheduler.
2024-09-06 14:51:39.096 DEBUG 31099 --- [db-scheduler-execute-due-pool-2-thread-1] c.g.k.scheduler.RunUntilShutdown         : Thread 'db-scheduler-execute-due-pool-2-thread-1' interrupted due to shutdown.
2024-09-06 14:51:39.097  INFO 31099 --- [SpringApplicationShutdownHook] c.github.kagkarlsson.scheduler.Executor  : Letting running executions finish. Will wait up to 2xPT30M.
2024-09-06 14:51:39.097  INFO 31099 --- [SpringApplicationShutdownHook] c.github.kagkarlsson.scheduler.Executor  : Scheduler stopped.
2024-09-06 14:51:39.104  INFO 31099 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-06 14:51:39.106  INFO 31099 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-06 15:52:18.533  INFO 85964 --- [main] com.drajer.ecrapp.EcrApp                 : Starting EcrApp v0.0.1-SNAPSHOT using Java 22.0.1 on MacBook-Pro-2019.local with PID 85964 (/Users/andrewkrylov/eCRNow/target/ecr-now.war started by andrewkrylov in /Users/andrewkrylov/eCRNow)
2024-09-06 15:52:18.537  INFO 85964 --- [main] com.drajer.ecrapp.EcrApp                 : No active profile set, falling back to 1 default profile: "default"
2024-09-06 15:52:19.702  INFO 85964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-06 15:52:19.727  INFO 85964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.
2024-09-06 15:52:19.956  INFO 85964 --- [main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version 5.4.0 - Rev b463b072c8
2024-09-06 15:52:19.962  INFO 85964 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-06 15:52:20.542  INFO 85964 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2024-09-06 15:52:20.551  INFO 85964 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-06 15:52:20.551  INFO 85964 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
2024-09-06 15:52:23.474  INFO 85964 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-06 15:52:23.474  INFO 85964 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4890 ms
2024-09-06 15:52:23.879  INFO 85964 --- [main] o.s.boot.web.servlet.RegistrationBean    : Filter requestMDCFilter was not registered (possibly already registered?)
2024-09-06 15:52:24.352  INFO 85964 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2024-09-06 15:52:24.623  INFO 85964 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-09-06 15:52:24.718  WARN 85964 --- [main] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2024-09-06 15:52:24.718  INFO 85964 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-06 15:52:24.865  INFO 85964 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-06 15:52:24.884  INFO 85964 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2024-09-06 15:52:25.203  WARN 85964 --- [main] org.hibernate.mapping.RootClass          : HHH000038: Composite-id class does not override equals(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-06 15:52:25.203  WARN 85964 --- [main] org.hibernate.mapping.RootClass          : HHH000039: Composite-id class does not override hashCode(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-06 15:52:25.386  INFO 85964 --- [main] c.drajer.bsa.model.PublicHealthMessage   : PublicHealthMessage initiated.
2024-09-06 15:52:25.757  INFO 85964 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-09-06 15:52:26.025  INFO 85964 --- [main] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  No custom queries defined
2024-09-06 15:52:26.042  INFO 85964 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-06 15:52:26.079  INFO 85964 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-06 15:52:26.098  INFO 85964 --- [main] ca.uhn.fhir.util.XmlUtil                 : Unable to determine StAX implementation: java.xml/META-INF/MANIFEST.MF not found
2024-09-06 15:52:27.491  INFO 85964 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-06 15:52:27.578  INFO 85964 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-06 15:52:27.765  INFO 85964 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-06 15:52:28.000  INFO 85964 --- [main] c.d.b.s.ScheduleJobConfiguration         : Initializing the One time task
2024-09-06 15:52:28.009  INFO 85964 --- [main] c.d.ecrapp.config.TaskConfiguration      : Initializing the One time task
2024-09-06 15:52:28.009  INFO 85964 --- [main] c.d.ecrapp.config.TaskConfiguration      : One time task execution done
2024-09-06 15:52:28.026 DEBUG 85964 --- [main] .b.a.DbSchedulerMetricsAutoConfiguration : Spring Boot Actuator and Micrometer detected. Will use: io.micrometer.core.instrument.simple.SimpleMeterRegistry for StatsRegistry
2024-09-06 15:52:28.031  INFO 85964 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : Creating db-scheduler using tasks from Spring context: [OneTimeTask name=BsaScheduledJob, OneTimeTask name=EICRTask]
2024-09-06 15:52:28.032 DEBUG 85964 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : The configured DataSource is not transaction aware: 'HikariDataSource (HikariPool-1)'. Wrapping in TransactionAwareDataSourceProxy.
2024-09-06 15:52:28.036 DEBUG 85964 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detecting database...
2024-09-06 15:52:28.044  INFO 85964 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detected database PostgreSQL.
2024-09-06 15:52:28.044  INFO 85964 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Using PostgreSQL jdbc-overrides.
2024-09-06 15:52:28.048  INFO 85964 --- [main] c.g.k.scheduler.SchedulerBuilder         : Creating scheduler with configuration: threads=10, pollInterval=10s, heartbeat=60s enable-immediate-execution=false, table-name=scheduled_tasks, name=eCRNow-Instance-1
2024-09-06 15:52:28.052  INFO 85964 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Using polling-strategy: type=FETCH, lowerLimit=0.5, upperLimit=3.0
2024-09-06 15:52:28.265  INFO 85964 --- [main] c.d.e.service.PlanDefinitionProcessor    :  Reading ERSD Bundle File 
2024-09-06 15:52:28.269 ERROR 85964 --- [main] c.d.e.service.PlanDefinitionProcessor    : Exception Reading ERSD File

java.io.FileNotFoundException: /users/andrewkrylov/Downloads/ersd.json (No such file or directory)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.readErsdBundleFromFile(PlanDefinitionProcessor.java:343)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.processResourceBundle(PlanDefinitionProcessor.java:100)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.initializeClientMethods(PlanDefinitionProcessor.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.drajer.ecrapp.EcrApp.main(EcrApp.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)

2024-09-06 15:52:28.297  INFO 85964 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-06 15:52:28.421  INFO 85964 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-06 15:52:28.926  INFO 85964 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-06 15:52:28.957  INFO 85964 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-06 15:52:29.094  INFO 85964 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-06 15:52:29.282  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR rctc-release-2022-07-13-Bundle-rctc-formatted_v2.json
2024-09-06 15:52:29.282  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/rctc-release-2022-07-13-Bundle-rctc-formatted_v2.json
2024-09-06 15:52:29.282  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/rctc-release-2022-07-13-Bundle-rctc-formatted_v2.json
2024-09-06 15:52:29.282  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:30.026  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:30.027  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:30.028  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:30.028  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:30.028  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:30.028  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name normalReportingDuration and expression 1300
2024-09-06 15:52:30.029  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:30.029  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name encounterStartDate and expression {{context.encounterStartDate}}
2024-09-06 15:52:30.029  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:30.029  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name encounterEndDate and expression {{context.encounterEndDate}}
2024-09-06 15:52:30.034  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.035  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.035  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.035  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 2
2024-09-06 15:52:30.041  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.041  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.041  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.042  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.042  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.042  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 5
2024-09-06 15:52:30.044  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action continue-check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 5
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 5
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.045  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-update-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-in-progress-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.046  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.049  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.049  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.049  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.049  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.049  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.049  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.052  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.053  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.053  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.053  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.053  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.054  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.054  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.054  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.054  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.054  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 15
2024-09-06 15:52:30.054  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:30.054  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Adding Rctc Version to the Action Repo 2022-07-13
2024-09-06 15:52:30.055  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:30.057  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:30.057  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : rctc-release-2022-07-13-Bundle-rctc
2024-09-06 15:52:30.057  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version : 1 
2024-09-06 15:52:30.057  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.057  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:30.057  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-start)
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: patient
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : patient
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Patient/{{context.patientId}}
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Patient
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: encounter
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : encounter
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Encounter/{{context.encounterId}}
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Encounter
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.058  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (2) ****** 
2024-09-06 15:52:30.058  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.059  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.059  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.059  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.059  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: modifiedMedicationOrders
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : modifiedMedicationOrders
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationRequest
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.059  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: modifiedConditions
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : modifiedConditions
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.059  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: modifiedLabResults
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : modifiedLabResults
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.059  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (continue-check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressencounter, RelatedData Id encounter
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-suspected-disorder-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (4) ****** 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationOrders
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationOrders
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationRequest
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.060  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationDispenses
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationDispenses
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationDispense?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationDispense
2024-09-06 15:52:30.060  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labTests
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labTests
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labOrders
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labOrders
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: immunizations
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : immunizations
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Immunization?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Immunization
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: procedures
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : procedures
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Procedure?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Procedure
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: conditions
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : conditions
2024-09-06 15:52:30.061  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: diagnosticOrders
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : diagnosticOrders
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : DiagnosticReport?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : DiagnosticReport
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: procedureOrders
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : procedureOrders
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationAdministrations
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationAdministrations
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationAdministration?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationAdministration
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.062  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResults, RelatedData Id diagnosticOrders
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounters, RelatedData Id encounter
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResults, RelatedData Id labTests
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (check-update-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : lasteicr, RelatedData Id eicrreport
2024-09-06 15:52:30.062  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-in-progress-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressencounter, RelatedData Id encounter
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : completedEncounter, RelatedData Id encounter
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CREATE_REPORT
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : immzdata, Related Data Id immunizations
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResultdata, Related Data Id labResults
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labOrderdata, Related Data Id labOrders
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : conditiondata, Related Data Id conditions
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : patientdata, Related Data Id patient
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounterdata, Related Data Id encounter
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResultdata, Related Data Id diagnosticResults
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : procdata, Related Data Id procedures
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticOrderdata, Related Data Id diagnosticOrders
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : mrdata, Related Data Id medicationOrders
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : generatedeicrreport, Related Data Id eicrreport
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.063  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-modified)
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** START Printing Expression **** 
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Type : text/fhirpath
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Logic : %encounter.where(%encounterStartDate + 1 day * %normalReportingDuration < now()).select(true)
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** END Printing Expression **** 
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.064  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.064  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@59baf2c7
2024-09-06 15:52:30.064  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@ce655b9
2024-09-06 15:52:30.064  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : modifiedLabResults, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@4b85edeb
2024-09-06 15:52:30.064  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : encounter, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@5731caaf
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : diagnosticOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@59933644
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : procedureOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@67e6eb52
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationAdministrations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@3e8b8f0
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationDispenses, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@5ad57e90
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labTests, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@1a345298
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : patient, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@4ad896f7
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : immunizations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@c318864
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : procedures, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@7d61468c
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : modifiedMedicationOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@45796b2a
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : modifiedConditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@4b98225c
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : conditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@4beae1e3
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR ersd_v2_original.json
2024-09-06 15:52:30.065  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/ersd_v2_original.json
2024-09-06 15:52:30.065  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/ersd_v2_original.json
2024-09-06 15:52:30.065  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:30.336  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:30.336  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:30.336  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:30.336  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:30.336  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.336  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.336  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.336  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 2
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.337  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-update-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.338  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action route-and-send-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Adding Rctc Version to the Action Repo 2022-01-12
2024-09-06 15:52:30.339  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : rctc-release-2022-01-12-Bundle-rctc
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version : 1 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-start)
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: patient
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : patient
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Patient/{{context.patientId}}
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Patient
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: encounter
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : encounter
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Encounter/{{context.encounterId}}
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Encounter
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (3) ****** 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationOrders
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationOrders
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationRequest
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.340  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationDispenses
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationDispenses
2024-09-06 15:52:30.340  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationDispense?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationDispense
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labTests
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labTests
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labOrders
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labOrders
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: immunizations
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : immunizations
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Immunization?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Immunization
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: procedures
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : procedures
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Procedure?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Procedure
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: conditions
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : conditions
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: diagnosticOrders
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : diagnosticOrders
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : DiagnosticReport?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : DiagnosticReport
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: procedureOrders
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : procedureOrders
2024-09-06 15:52:30.341  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationAdministrations
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationAdministrations
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationAdministration?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationAdministration
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResults, RelatedData Id diagnosticOrders
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounters, RelatedData Id encounter
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResults, RelatedData Id labTests
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (check-update-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : last-eicr, RelatedData Id eicr-report
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogress-encounter, RelatedData Id encounter
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (3) ****** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : condition-data, RelatedData Id conditions
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : proc-data, RelatedData Id procedures
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labOrder-data, RelatedData Id labOrders
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounter-data, RelatedData Id encounters
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : immz-data, RelatedData Id immunizations
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticOrder-data, RelatedData Id diagnosticOrders
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : patient-data, RelatedData Id patient
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : mr-data, RelatedData Id medicationOrders
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResult-data, RelatedData Id labResults
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResult-data, RelatedData Id diagnosticResults
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (route-and-send-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : generated-eicr-report, RelatedData Id eicr-report
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (route-and-send-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (route-and-send-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ********** 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : validated-eicr-report, RelatedData Id valid-eicr-report
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.342  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@65a48cab
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationDispenses, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@655621fd
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labTests, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@77e9dca8
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@fcd0e8d
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : patient, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@4e4d0a0b
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : immunizations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@1a4083f6
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : procedures, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@23f5008a
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : encounter, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@44abdb1f
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : conditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@62108cd3
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : diagnosticOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@7cd1ec54
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : procedureOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@77ab5214
2024-09-06 15:52:30.342  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationAdministrations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@6d420cdd
2024-09-06 15:52:30.343  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:30.343  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR eRSDv2_specification_bundle 12_12_2022.json
2024-09-06 15:52:30.343  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/eRSDv2_specification_bundle 12_12_2022.json
2024-09-06 15:52:30.343  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/eRSDv2_specification_bundle 12_12_2022.json
2024-09-06 15:52:30.343  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:30.854  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name normalReportingDuration and expression 30
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name encounterStartDate and expression {{context.encounterStartDate}}
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name encounterEndDate and expression {{context.encounterEndDate}}
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:30.854  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name lastReportSubmissionDate and expression {{context.lastReportSubmissionDate}}
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 2
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 4
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action continue-check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.855  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 4
2024-09-06 15:52:30.859  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.859  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.859  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action terminate-late-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.859  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 4
2024-09-06 15:52:30.859  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-late-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 4
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 4
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.860  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-update-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-in-progress-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action terminate-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.861  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.862  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:30.863  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:30.863  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Adding Rctc Version to the Action Repo 2022-10-19
2024-09-06 15:52:30.863  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : rctc-release-2022-10-19-Bundle-rctc
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version :  
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-start)
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: patient
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : patient
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Patient/{{context.patientId}}
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Patient
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: encounter
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : encounter
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Encounter/{{context.encounterId}}
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Encounter
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (4) ****** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: suspectedDisorderConditions
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : suspectedDisorderConditions
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: suspectedDisorderLabOrders
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : suspectedDisorderLabOrders
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.864  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (continue-check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressencounter, RelatedData Id encounter
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (terminate-late-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (terminate-late-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : terminatedencounter, RelatedData Id encounter
2024-09-06 15:52:30.864  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-late-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (is-late-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : lateCompletedEncounter, RelatedData Id encounter
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (5) ****** 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationOrders
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationOrders
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationRequest
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationDispenses
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationDispenses
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationDispense?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationDispense
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labTests
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labTests
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labOrders
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labOrders
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: immunizations
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : immunizations
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Immunization?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Immunization
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: conditions
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : conditions
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: diagnosticOrders
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : diagnosticOrders
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : DiagnosticReport?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : DiagnosticReport
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationAdministrations
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationAdministrations
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationAdministration?patient=Patient/{{context.patientId}}
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationAdministration
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:30.865  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResults, RelatedData Id diagnosticOrders
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounters, RelatedData Id encounter
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResults, RelatedData Id labTests
2024-09-06 15:52:30.865  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (check-update-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-in-progress-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressencounter, RelatedData Id encounter
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (terminate-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (terminate-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : termencounter, RelatedData Id encounter
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : completedEncounter, RelatedData Id encounter
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CREATE_REPORT
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : immzdata, Related Data Id immunizations
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResultdata, Related Data Id labResults
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labOrderdata, Related Data Id labOrders
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : conditiondata, Related Data Id conditions
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : patientdata, Related Data Id patient
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounterdata, Related Data Id encounter
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResultdata, Related Data Id diagnosticResults
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticOrderdata, Related Data Id diagnosticOrders
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : mrdata, Related Data Id medicationOrders
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : generatedeicrreport, Related Data Id eicrreport
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-modified)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** START Printing Expression **** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Type : text/fhirpath
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Logic : %encounter.where(period.start + 1 day * %normalReportingDuration < now()).select(true)
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** END Printing Expression **** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:30.866  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@34549979
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationDispenses, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@144a5e6e
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labTests, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@2707c790
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : suspectedDisorderConditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@7de3206d
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@6dece1f9
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : patient, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@2b936b04
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : immunizations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@32b112a1
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : encounter, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@5635bcd2
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : conditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@5c5c7cc4
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : suspectedDisorderLabOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@6c27e700
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : diagnosticOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@56b9d43f
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationAdministrations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@2d913116
2024-09-06 15:52:30.866  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:30.867  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR eRSDv2_specification_bundle_12_7_2022.json
2024-09-06 15:52:30.867  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/eRSDv2_specification_bundle_12_7_2022.json
2024-09-06 15:52:30.867  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/eRSDv2_specification_bundle_12_7_2022.json
2024-09-06 15:52:30.867  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:31.313  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:31.313  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:31.313  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:31.313  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:31.313  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:31.313  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name normalReportingDuration and expression 1300
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name encounterStartDate and expression {{context.encounterStartDate}}
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name encounterEndDate and expression {{context.encounterEndDate}}
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 2
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 4
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action continue-check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 4
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 4
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.314  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-update-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-in-progress-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.315  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Adding Rctc Version to the Action Repo 2022-10-19
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : rctc-release-2022-10-19-Bundle-rctc
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version :  
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-start)
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: patient
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : patient
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Patient/{{context.patientId}}
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Patient
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: encounter
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : encounter
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Encounter/{{context.encounterId}}
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Encounter
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (2) ****** 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.316  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: suspectedDisorderConditions
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.316  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : suspectedDisorderConditions
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: suspectedDisorderLabOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : suspectedDisorderLabOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (continue-check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressencounter, RelatedData Id encounter
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (4) ****** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationRequest
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationDispenses
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationDispenses
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationDispense?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationDispense
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labTests
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labTests
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: immunizations
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : immunizations
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Immunization?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Immunization
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: conditions
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : conditions
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: diagnosticOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : diagnosticOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : DiagnosticReport?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : DiagnosticReport
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationAdministrations
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationAdministrations
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationAdministration?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationAdministration
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.317  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResults, RelatedData Id diagnosticOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : reportableencounter, RelatedData Id encounter
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounters, RelatedData Id encounter
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResults, RelatedData Id labTests
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (check-update-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : lasteicr, RelatedData Id eicrreport
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-in-progress-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressencounter, RelatedData Id encounter
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : completedEncounter, RelatedData Id encounter
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CREATE_REPORT
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : immzdata, Related Data Id immunizations
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResultdata, Related Data Id labResults
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labOrderdata, Related Data Id labOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : conditiondata, Related Data Id conditions
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : patientdata, Related Data Id patient
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounterdata, Related Data Id encounter
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResultdata, Related Data Id diagnosticResults
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticOrderdata, Related Data Id diagnosticOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : mrdata, Related Data Id medicationOrders
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : generatedeicrreport, Related Data Id eicrreport
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.317  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-modified)
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** START Printing Expression **** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Type : text/fhirpath
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Logic : %encounter.where(period.start + 1 day * %normalReportingDuration < now()).select(true)
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** END Printing Expression **** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@77ecdc2b
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationDispenses, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@714f1a44
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labTests, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@3c09a350
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : suspectedDisorderConditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@592a1882
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@48368a08
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : patient, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@41a23470
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : immunizations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@30c01c37
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : encounter, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@39a7eca5
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : conditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@45bd4753
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : suspectedDisorderLabOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@156cfa20
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : diagnosticOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@25fd6d1e
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationAdministrations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@23396fc0
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR Bundle-bundle-ersd-specification-bundle.json.backup.json
2024-09-06 15:52:31.318  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/Bundle-bundle-ersd-specification-bundle.json.backup.json
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/Bundle-bundle-ersd-specification-bundle.json.backup.json
2024-09-06 15:52:31.318  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:31.431  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:31.431  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action ckr-is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action ckr-is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action car-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.432  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action car-is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action car-is-encounter-finished-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action submit-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Adding Rctc Version to the Action Repo 2021-05-19
2024-09-06 15:52:31.433  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:31.434  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : bundle-ersd-specification-bundle
2024-09-06 15:52:31.434  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version : 2 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-start)
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (2) ****** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (ckr-is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (ckr-is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (3) ****** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (car-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (car-is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (car-is-encounter-finished-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (1) ****** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.434  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (submit-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (submit-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (submit-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.435  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.435  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR HealthcareSurvey-specification-bundle-example.json
2024-09-06 15:52:31.435  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/HealthcareSurvey-specification-bundle-example.json
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/HealthcareSurvey-specification-bundle-example.json
2024-09-06 15:52:31.435  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:31.438  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:31.438  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:31.438  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:31.438  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Receiver URL extension 
2024-09-06 15:52:31.439  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action initiate-reporting-workflow-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.439  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.439  INFO 85964 --- [main] c.d.bsa.kar.action.CheckParticipant      : CheckParticipant is executing.
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-participant-registration-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action submit-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : healthcare-survey-specification-bundle-example
2024-09-06 15:52:31.441  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version : 1 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (initiate-reporting-workflow-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example)
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-close)
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-participant-registration-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (initiate-reporting-workflow-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** initiate-reporting-workflow-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-participant-registration-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example)
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_PARTICIPANT_REGISTRATION
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** START Printing Expression **** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Type : text/fhirpath
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Logic : closedEncounter.participant.individual.identifier.where(system = 'http://hl7.org/fhir/sid/us-npi).value.subsetOf(participantGroup.member.entity.identifier.where(system = 'http://hl7.org/fhir/sid/us-npi).value)'
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** END Printing Expression **** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-participant-registration-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-participant-registration-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example)
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CREATE_REPORT
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example)
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (submit-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example)
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example)
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example) ******** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (submit-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example)
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (submit-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-healthcare-survey-example)
2024-09-06 15:52:31.442  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.442  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR Cancer-specification-bundle-example.json
2024-09-06 15:52:31.442  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/Cancer-specification-bundle-example.json
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/Cancer-specification-bundle-example.json
2024-09-06 15:52:31.442  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:31.443  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:31.443  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:31.443  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:31.443  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Receiver URL extension 
2024-09-06 15:52:31.443  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action initiate-reporting-workflow-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.443  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.443  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.443  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-trigger-codes-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.443  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action submit-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : cancer-specification-bundle-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version : 1 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (initiate-reporting-workflow-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (diagnosis-change)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (procedure-change)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (labresult-change)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (medication-change)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (order-change)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-close)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-trigger-codes-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (initiate-reporting-workflow-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** initiate-reporting-workflow-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-trigger-codes-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_TRIGGER_CODES
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** START Printing Expression **** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Type : text/fhirpath
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Logic : %conditions.exists()
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** END Printing Expression **** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-trigger-codes-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-trigger-codes-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CREATE_REPORT
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** create-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (submit-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example) ******** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (submit-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example)
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (submit-report-PlanDefinition/http://hl7.org/fhir/us/medmorph/StructureDefinition/plandefinition-cancer-example)
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR Bundle-bundle-ersd-specification-bundle.json
2024-09-06 15:52:31.444  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/Bundle-bundle-ersd-specification-bundle.json
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/Bundle-bundle-ersd-specification-bundle.json
2024-09-06 15:52:31.444  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:31.650  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action ckr-is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action ckr-is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.650  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action car-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action car-is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a FHIR Path Expression 
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action car-is-encounter-finished-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action submit-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 0
2024-09-06 15:52:31.651  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:31.652  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Adding Rctc Version to the Action Repo 2021-05-19
2024-09-06 15:52:31.652  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:31.652  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : bundle-ersd-specification-bundle
2024-09-06 15:52:31.652  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version : 2 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-start)
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (2) ****** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (ckr-is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (ckr-is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (3) ****** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (car-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (car-is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (car-is-encounter-finished-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.652  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** create-and-report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (1) ****** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ************ 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (submit-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance) ******** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (submit-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (submit-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-instance)
2024-09-06 15:52:31.653  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.653  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR ersd_v2.json
2024-09-06 15:52:31.653  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/ersd_v2.json
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/ersd_v2.json
2024-09-06 15:52:31.653  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:31.922  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 2
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-update-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.923  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-completed-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 16
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 16
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 16
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action route-and-send-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 16
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Adding Rctc Version to the Action Repo 2022-01-12
2024-09-06 15:52:31.924  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : rctc-release-2022-01-12-Bundle-rctc
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version : 1 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-start)
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: patient
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : patient
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Patient/{{context.patientId}}
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Patient
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: encounter
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : encounter
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Encounter/{{context.encounterId}}
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Encounter
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** start-workflow-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (4) ****** 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationOrders
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationOrders
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /MedicationRequest?patient=Patient/{{context.patientId}}&intent=order,original-order,reflex-order,filler-order,instance-order&status=active
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationRequest
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationDispenses
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationDispenses
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /MedicationDispense?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationDispense
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labTests
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labTests
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /Observation?patient=Patient/{{context.patientId}}&category=http://terminology.hl7.org/CodeSystem/observation-category|laboratory&date=ge{{context.encounterStartDate}}
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labOrders
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labOrders
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.925  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: immunizations
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : immunizations
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /Immunization?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Immunization
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: procedures
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : procedures
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /Procedure?patient=Patient/{{context.patientId}}&date=ge{{context.encounterStartDate}}
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Procedure
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: conditions
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : conditions
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /Condition?patient={{context.patientId}}
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: diagnosticOrders
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : diagnosticOrders
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /DiagnosticReport?patient=Patient/{{context.patientId}}&category=http://terminology.hl7.org/CodeSystem/v2-0074|LAB
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : DiagnosticReport
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: procedureOrders
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : procedureOrders
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationAdministrations
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationAdministrations
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /MedicationAdministration?patient=Patient/{{context.patientId}}
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationAdministration
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.926  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.926  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResults, RelatedData Id diagnosticOrders
2024-09-06 15:52:31.926  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounters, RelatedData Id encounter
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResults, RelatedData Id labTests
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (check-update-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : lastEicr, RelatedData Id eicr-report
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-in-progress-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressEncounter, RelatedData Id encounter
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-completed-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (is-encounter-completed-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ********** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : completedEncounter, RelatedData Id encounter
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-reportable-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (1) ****** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (create-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ************ 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: pregnancyDataObservation
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : pregnancyDataObservation
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /Observation?patient={{context.patientId}}&code=http://loinc.org|90767-5&date=ge{{context.encounterStartDate}}
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: travelData
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : travelData
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /Observation?patient={{context.patientId}}&code=http://loinc.org|29762-2,http://snomed.info/sct|161085007,443846001,420008001,46521000175102,34831000175105,161086008,874901007,445000002,473085002,874902000
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: occupationalDataLoinc
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : occupationalDataLoinc
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /Observation?patient={{context.patientId}}&code=http://loinc.org|11295-3,74165-2,21843-8,21844-6,11341-5,86188-0,http://snomed.info/sct|224362002,364703007
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: pregnancyDataCondition
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : pregnancyDataCondition
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : /Condition?patient={{context.patientId}}&code=http://snomed.info/sct|77386006
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : immzData, RelatedData Id immunizations
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labOrderData, RelatedData Id labOrders
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : patientData, RelatedData Id patient
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : conditionData, RelatedData Id conditions
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResultData, RelatedData Id diagnosticResults
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResultData, RelatedData Id labResults
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounterData, RelatedData Id encounter
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : procData, RelatedData Id procedures
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticOrderData, RelatedData Id diagnosticOrders
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : mrData, RelatedData Id medicationOrders
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** report-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : generated-eicr-report, Related Data Id eicr-report
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (route-and-send-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton) ******** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://hl7.org/fhir/us/ecr/PlanDefinition/plandefinition-ersd-skeleton)
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@145e958f
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : pregnancyDataObservation, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@2d2fc130
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@7bbdb220
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : encounter, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@6d001fbe
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : diagnosticOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@d120d7c
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : occupationalDataLoinc, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@5ee77baf
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : procedureOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@485deee1
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationAdministrations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@25cde5bb
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationDispenses, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@38a96593
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labTests, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@5df64b2a
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : patient, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@7afb9c93
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : immunizations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@30d15e4a
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : procedures, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@43a7203e
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : travelData, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@2c678c7b
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : conditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@a5e8260
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : pregnancyDataCondition, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@30c7be6f
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing KAR ersd_app_release3.json
2024-09-06 15:52:31.927  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing File : /users/andrewkrylov/eCRNow/kars/ersd_app_release3.json
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : About to read KAR File /users/andrewkrylov/eCRNow/kars/ersd_app_release3.json
2024-09-06 15:52:31.927  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Start Reading KAR File 
2024-09-06 15:52:32.296  INFO 85964 --- [main] com.drajer.bsa.utils.BsaServiceUtils     : Completed Reading KAR File
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Successfully read the KAR from File 
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing PlanDefinition 
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name normalReportingDuration and expression 1400
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name encounterStartDate and expression {{context.encounterStartDate}}
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name encounterEndDate and expression {{context.encounterEndDate}}
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Variables 
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Found Variable Extension Expression with Name lastReportSubmissionDate and expression {{context.lastReportSubmissionDate}}
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 2
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 5
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action continue-check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 5
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action terminate-late-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.296  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 5
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-late-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 5
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 5
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-update-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-in-progress-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action terminate-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 12
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.297  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 18
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 18
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a related data extension 
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 18
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Found a query extension for action Id encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Cql disabled and found alternative cql expression therefor using primary fhirpath expression
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Populating Default Queries for action encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Default Queries size = 20
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Processing Library
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Adding Rctc Version to the Action Repo 2023-02-03
2024-09-06 15:52:32.298  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      : Resource Type does not exist, so add to map 
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** START Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  KAR Id : rctc-release-2023-02-03-Bundle-rctc
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Kar Version : 1.1.0 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-start)
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: patient
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : patient
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Patient/{{context.patientId}}
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Patient
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: encounter
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : encounter
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Encounter/{{context.encounterId}}
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Encounter
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** start-workflow-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (4) ****** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-immediately-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: suspectedDisorderConditions
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : suspectedDisorderConditions
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: suspectedDisorderLabOrders
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : suspectedDisorderLabOrders
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: diagnosticOrders
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : diagnosticOrders
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : DiagnosticReport?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : DiagnosticReport
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.299  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (continue-check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressencounter, RelatedData Id encounter
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (terminate-late-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (terminate-late-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : terminatedencounter, RelatedData Id encounter
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-late-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (is-late-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : lateCompletedEncounter, RelatedData Id encounter
2024-09-06 15:52:32.299  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-for-immediate-reporting-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : EXECUTE_REPORTING_WORKFLOW
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of SubActions : (5) ****** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationOrders
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationOrders
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationRequest
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationDispenses
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationDispenses
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationDispense?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationDispense
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labTests
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labTests
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: labOrders
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : labOrders
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : ServiceRequest?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : ServiceRequest
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: immunizations
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : immunizations
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Immunization?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Immunization
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: conditions
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : conditions
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: diagnosticOrders
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : diagnosticOrders
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : DiagnosticReport?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : DiagnosticReport
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id: medicationAdministrations
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : medicationAdministrations
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : MedicationAdministration?patient=Patient/{{context.patientId}}
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : MedicationAdministration
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResults, RelatedData Id diagnosticOrders
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResultValues, RelatedData Id diagnosticOrders
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounters, RelatedData Id encounter
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResults, RelatedData Id labTests
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResultValues, RelatedData Id labTests
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (check-update-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-in-progress-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** RelationshipType : (BEFORESTART) ********** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ************ Related Action Id : (check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ************ 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : inprogressencounter, RelatedData Id encounter
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (terminate-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (terminate-encounter-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : termencounter, RelatedData Id encounter
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Sub Action Id : (is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ********** No Related Actions for sub Action : (is-encounter-completed-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ********** 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  START Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : completedEncounter, RelatedData Id encounter
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  END Printing Sub Actions Data Requirements 
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-reportable-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CREATE_REPORT
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: pregnancyConditions
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : pregnancyConditions
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Condition?patient=Patient/{{context.patientId}}&code=http://snomed.info/sct|77386006
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Condition
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: travelData-loinc
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : travelData-loinc
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}&code=http://loinc.org|29762-2
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: pregnancyObservations
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : pregnancyObservations
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}&code=http://loinc.org|90767-5
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: odhData-loinc
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : odhData-loinc
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}&code=http://loinc.org|11295-3
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: odhData-snomed
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : odhData-snomed
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}&code=http://snomed.info/sct|224362002,364703007
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.300  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: travelData-snomed
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : travelData-snomed
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Observation?patient=Patient/{{context.patientId}}&code=http://snomed.info/sct|161085007,443846001,420008001,46521000175102,34831000175105,161086008
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Observation
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : immzdata, Related Data Id immunizations
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labResultdata, Related Data Id labResults
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : labOrderdata, Related Data Id labOrders
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : conditiondata, Related Data Id conditions
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : patientdata, Related Data Id patient
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : encounterdata, Related Data Id encounter
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticResultdata, Related Data Id diagnosticResults
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : diagnosticOrderdata, Related Data Id diagnosticOrders
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : mrdata, Related Data Id medicationOrders
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : VALIDATE_REPORT
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR Id : generatedeicrreport, Related Data Id eicrreport
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** validate-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : CHECK_RESPONSE
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  checkResponseActionId : check-response-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  Submission End point : https://6k5nv6zxbg.execute-api.us-east-1.amazonaws.com/v1
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.action.SubmitReport   :  **** START Printing Derived Action **** (route-and-send-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** START Printing Action **** (encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification)
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Action Type : INITIATE_REPORTING_WORKFLOW
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  Named Event : (encounter-modified)
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** START Printing Expression **** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Type : text/fhirpath
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  Expression Logic : %encounter.where(period.start + 1 day * %normalReportingDuration < now()).select(true)
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaCondition    :  **** END Printing Expression **** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: modifiedEncounter
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : modifiedEncounter
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Encounter/{{context.encounterId}}
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Encounter
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  DR ID: modifiedPatient
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** START Printing Fhir Query Filter ****
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Data Req Id : modifiedPatient
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query String : Patient/{{context.patientId}}
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Query Customized : false
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Resource Type : Patient
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  Related Data Id : null
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.kar.model.FhirQueryFilter   :  **** FINISH Printing Fhir Query Filter ****
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** Number of Related Actions : (1) ****** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ****** RelationshipType : (BEFORESTART) ****** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** Related Action Id : (create-eicr-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  ******** No Sub Actions for : (encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification) ******** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] com.drajer.bsa.kar.model.BsaAction       :  **** END Printing Action **** encounter-modified-PlanDefinition/http://ersd.aimsplatform.org/fhir/PlanDefinition/us-ecr-specification
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@295b07e0
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : travelData-loinc, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@55053f81
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : suspectedDisorderConditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@1fee4278
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@51132514
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : odhData-loinc, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@20864cd1
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : encounter, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@5c839677
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : odhData-snomed, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@3193e21d
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : modifiedEncounter, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@79604abe
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : suspectedDisorderLabOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@6b126187
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : diagnosticOrders, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@2b6262bc
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationAdministrations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@5cffec7
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : travelData-snomed, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@7e81617a
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : medicationDispenses, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@6e73974
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : pregnancyConditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@3e28dc96
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : labTests, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@44eb2452
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : pregnancyObservations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@31940704
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : patient, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@e07b4db
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : immunizations, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@76b305e1
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : conditions, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@6be766d1
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  Data Req Id : modifiedPatient, Query String: com.drajer.bsa.kar.model.FhirQueryFilter@7adae08e
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.d.bsa.kar.model.KnowledgeArtifact      :  **** END Printing KnowledgeArtifactSummary **** 
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Persisting Kars for each Repo 
2024-09-06 15:52:32.301  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  : Adding entry for Url http://localhost and Name local-repo
2024-09-06 15:52:32.360  WARN 85964 --- [main] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:52:32.381  INFO 85964 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Repository for Url http://localhost does not exist 
2024-09-06 15:52:32.382  INFO 85964 --- [main] c.d.b.model.KnowledgeArtifactRepository  :  Not adding Kar rctc-release-2022-01-12-Bundle-rctc|1 as it already exists 
2024-09-06 15:52:32.382  INFO 85964 --- [main] c.d.b.model.KnowledgeArtifactRepository  :  Not adding Kar bundle-ersd-specification-bundle|2 as it already exists 
2024-09-06 15:52:32.382  INFO 85964 --- [main] c.d.b.model.KnowledgeArtifactRepository  :  Not adding Kar rctc-release-2022-10-19-Bundle-rctc| as it already exists 
2024-09-06 15:52:32.546  WARN 85964 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 7cfd050d-49e7-45c7-9264-24b83dbab243

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-09-06 15:52:32.631  INFO 85964 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-06 15:52:32.631  INFO 85964 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Security Configuration 
2024-09-06 15:52:32.631  INFO 85964 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-06 15:52:32.631  INFO 85964 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Token Filter class Name is empty
2024-09-06 15:52:32.636  WARN 85964 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/meta/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-06 15:52:32.637  INFO 85964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/meta/**']
2024-09-06 15:52:32.637  WARN 85964 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/actuator/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-06 15:52:32.637  INFO 85964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/actuator/**']
2024-09-06 15:52:32.792  INFO 85964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@18483b8b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24fc2c80, org.springframework.security.web.context.SecurityContextPersistenceFilter@61554b6b, org.springframework.security.web.header.HeaderWriterFilter@4e2109fe, org.springframework.security.web.authentication.logout.LogoutFilter@2d5ae78e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42b4df5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@365e65bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@965bcbc, org.springframework.security.web.session.SessionManagementFilter@362a6aa5, org.springframework.security.web.access.ExceptionTranslationFilter@44976b08, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@43a59289]
2024-09-06 15:52:33.706  INFO 85964 --- [main] c.g.k.s.b.config.startup.ImmediateStart  : Triggering scheduler start
2024-09-06 15:52:33.707  INFO 85964 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Starting scheduler.
2024-09-06 15:52:33.709 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 15:52:33.709 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 15:52:33.718 DEBUG 85964 --- [main] b.a.DbSchedulerActuatorAutoConfiguration : Exposing health indicator for db-scheduler
2024-09-06 15:52:33.718 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:52:34.224  INFO 85964 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2024-09-06 15:52:34.277  INFO 85964 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2024-09-06 15:52:34.291  INFO 85964 --- [main] com.drajer.ecrapp.EcrApp                 : Started EcrApp in 16.231 seconds (JVM running for 16.703)
2024-09-06 15:52:43.726 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:52:53.731 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:53:03.734 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:53:13.741 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:53:23.744 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:53:33.746 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:53:43.751 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:53:53.755 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:54:03.761 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:54:13.765 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:54:23.771 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:54:33.717 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 15:54:33.717 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 15:54:33.776 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:54:43.781 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:54:53.784 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:55:03.790 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:55:13.791 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:55:23.794 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:55:33.801 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:55:43.805 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:55:53.810 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:56:03.815 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:56:13.818 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:56:23.831 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:56:33.718 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 15:56:33.718 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 15:56:33.838 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:56:43.840 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:56:53.843 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:57:00.408  INFO 85964 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-06 15:57:00.408  INFO 85964 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-06 15:57:00.410  INFO 85964 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-09-06 15:57:00.446  INFO 85964 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: b3d4ee1e-9c9e-4653-8fc7-c082a1acae56
2024-09-06 15:57:00.446  INFO 85964 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:00.446  INFO 85964 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:00.446  INFO 85964 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ being handled for requestId b3d4ee1e-9c9e-4653-8fc7-c082a1acae56 associated to correlationId null for domain null
2024-09-06 15:57:00.500  WARN 85964 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:57:00.588  INFO 85964 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ completed for requestId b3d4ee1e-9c9e-4653-8fc7-c082a1acae56 associated to correlationId null for domain null
2024-09-06 15:57:03.846 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:57:13.853 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:57:14.255  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c18fd006-d379-436d-9176-6f31d2491f57
2024-09-06 15:57:14.255  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:14.255  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:14.256  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails being handled for requestId c18fd006-d379-436d-9176-6f31d2491f57 associated to correlationId null for domain null
2024-09-06 15:57:14.260  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails completed for requestId c18fd006-d379-436d-9176-6f31d2491f57 associated to correlationId null for domain null
2024-09-06 15:57:14.263  INFO 85964 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 6fa6027a-42f5-493f-8b5c-17d88175854b
2024-09-06 15:57:14.263  INFO 85964 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:14.263  INFO 85964 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:14.263  INFO 85964 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails being handled for requestId 6fa6027a-42f5-493f-8b5c-17d88175854b associated to correlationId null for domain null
2024-09-06 15:57:14.316  WARN 85964 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:57:14.320  INFO 85964 --- [http-nio-8081-exec-3] c.d.sof.launch.ClientDetailsController   : Saving the Client Details
2024-09-06 15:57:17.316  INFO 85964 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails completed for requestId 6fa6027a-42f5-493f-8b5c-17d88175854b associated to correlationId null for domain null
2024-09-06 15:57:17.403  INFO 85964 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 46bc6de4-ec63-4af8-ab50-8a7b48b7d2bc
2024-09-06 15:57:17.403  INFO 85964 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:17.403  INFO 85964 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:17.403  INFO 85964 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ being handled for requestId 46bc6de4-ec63-4af8-ab50-8a7b48b7d2bc associated to correlationId null for domain null
2024-09-06 15:57:17.404  WARN 85964 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:57:17.410  INFO 85964 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ completed for requestId 46bc6de4-ec63-4af8-ab50-8a7b48b7d2bc associated to correlationId null for domain null
2024-09-06 15:57:23.860 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:57:29.569  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 7b00994b-9418-4192-b3a0-9ef400cb12d8
2024-09-06 15:57:29.569  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:29.569  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:29.569  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 7b00994b-9418-4192-b3a0-9ef400cb12d8 associated to correlationId null for domain null
2024-09-06 15:57:29.582  WARN 85964 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:57:29.593  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 7b00994b-9418-4192-b3a0-9ef400cb12d8 associated to correlationId null for domain null
2024-09-06 15:57:30.927  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 8dc264eb-7e9e-4587-b8ab-204445bcae9f
2024-09-06 15:57:30.927  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:30.927  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:30.927  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 8dc264eb-7e9e-4587-b8ab-204445bcae9f associated to correlationId null for domain null
2024-09-06 15:57:30.929  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 8dc264eb-7e9e-4587-b8ab-204445bcae9f associated to correlationId null for domain null
2024-09-06 15:57:30.932  INFO 85964 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 29b62193-fd71-4522-980a-c986f01d5a08
2024-09-06 15:57:30.933  INFO 85964 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:30.933  INFO 85964 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:30.933  INFO 85964 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 29b62193-fd71-4522-980a-c986f01d5a08 associated to correlationId null for domain null
2024-09-06 15:57:30.935  INFO 85964 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f94853e6-d6ed-47e6-ad6a-6a8d3752e9a1
2024-09-06 15:57:30.935  INFO 85964 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:30.935  INFO 85964 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:30.935  INFO 85964 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId f94853e6-d6ed-47e6-ad6a-6a8d3752e9a1 associated to correlationId null for domain null
2024-09-06 15:57:30.935  INFO 85964 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 29b62193-fd71-4522-980a-c986f01d5a08 associated to correlationId null for domain null
2024-09-06 15:57:30.938  WARN 85964 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:57:30.938  INFO 85964 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 75ae90a3-5334-4fea-9b2e-1040652a2470
2024-09-06 15:57:30.938  INFO 85964 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:30.938  INFO 85964 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:30.939  INFO 85964 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 75ae90a3-5334-4fea-9b2e-1040652a2470 associated to correlationId null for domain null
2024-09-06 15:57:30.946  WARN 85964 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:57:30.956  INFO 85964 --- [http-nio-8081-exec-9] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-06 15:57:30.959  INFO 85964 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 75ae90a3-5334-4fea-9b2e-1040652a2470 associated to correlationId null for domain null
2024-09-06 15:57:30.982  INFO 85964 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId f94853e6-d6ed-47e6-ad6a-6a8d3752e9a1 associated to correlationId null for domain null
2024-09-06 15:57:33.862 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:57:43.868 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:57:46.335  INFO 85964 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f1c77a40-0dc7-4637-908e-e6a3cd92c2b8
2024-09-06 15:57:46.335  INFO 85964 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:57:46.335  INFO 85964 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:57:46.335  INFO 85964 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId f1c77a40-0dc7-4637-908e-e6a3cd92c2b8 associated to correlationId null for domain null
2024-09-06 15:57:46.337  WARN 85964 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:57:46.342  INFO 85964 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId f1c77a40-0dc7-4637-908e-e6a3cd92c2b8 associated to correlationId null for domain null
2024-09-06 15:57:53.873 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:58:03.880 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:58:07.270  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-06 15:58:07.270  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 15:58:07.270  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 15:58:07.270  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-06 15:58:07.274  INFO 85964 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-06 15:58:07.274  INFO 85964 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-06 15:58:07.275  WARN 85964 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:58:07.277  WARN 85964 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 15:58:07.291  INFO 85964 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-06 15:58:07.292  INFO 85964 --- [http-nio-8081-exec-2] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-06 15:58:07.293  INFO 85964 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-06 15:58:07.294  INFO 85964 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-06 15:58:07.297  INFO 85964 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-06 15:58:07.297  INFO 85964 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : cer
2024-09-06 15:58:07.297  INFO 85964 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-06 15:58:08.037 ERROR 85964 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$169cbf47.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-06 15:58:08.038  INFO 85964 --- [http-nio-8081-exec-2] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-06 15:58:08.042  INFO 85964 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-06 15:58:08.043 ERROR 85964 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-06 15:58:13.885 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:58:23.891 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:58:33.720 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 15:58:33.720 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 15:58:33.896 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:58:43.901 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:58:53.904 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:59:04.012 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:59:14.018 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:59:24.021 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:59:34.027 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:59:44.030 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 15:59:54.035 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:00:04.038 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:00:14.043 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:00:24.048 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:00:33.831 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:00:33.831 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:00:34.054 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:00:44.061 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:00:54.068 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:01:04.072 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:01:14.078 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:01:24.085 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:01:34.089 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:01:44.097 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:01:54.105 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:02:04.112 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:02:09.035  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 34ba908b-0880-4ea6-b294-79b9f0352f8e
2024-09-06 16:02:09.036  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 16:02:09.036  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 16:02:09.036  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 34ba908b-0880-4ea6-b294-79b9f0352f8e associated to correlationId null for domain null
2024-09-06 16:02:09.038  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: a1f3bd53-08b6-4d5a-9918-17facd94d2aa
2024-09-06 16:02:09.038  WARN 85964 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 16:02:09.038  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-06 16:02:09.038  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-06 16:02:09.038  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId a1f3bd53-08b6-4d5a-9918-17facd94d2aa associated to correlationId null for domain null
2024-09-06 16:02:09.041  WARN 85964 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-06 16:02:09.051  INFO 85964 --- [http-nio-8081-exec-6] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-06 16:02:09.051  INFO 85964 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 34ba908b-0880-4ea6-b294-79b9f0352f8e associated to correlationId null for domain null
2024-09-06 16:02:09.053  INFO 85964 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId a1f3bd53-08b6-4d5a-9918-17facd94d2aa associated to correlationId null for domain null
2024-09-06 16:02:14.116 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:02:24.122 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:02:33.838 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:02:33.840 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:02:34.126 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:02:44.131 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:02:54.137 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:03:04.144 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:03:14.151 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:03:24.155 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:03:34.158 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:03:44.165 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:03:54.167 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:04:04.173 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:04:14.176 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:04:24.179 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:04:33.846 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:04:33.846 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:04:34.180 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:04:44.187 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:04:54.188 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:05:04.193 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:05:14.195 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:05:24.200 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:05:34.205 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:05:44.208 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:05:54.210 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:06:04.213 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:06:14.216 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:06:24.223 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:06:33.854 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:06:33.854 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:06:34.228 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:06:44.235 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:06:54.237 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:07:04.241 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:07:14.249 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:07:24.258 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:07:34.270 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:07:44.278 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:07:54.288 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:08:04.298 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:08:14.307 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:08:24.317 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:08:33.865 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:08:33.866 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:08:34.321 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:08:44.329 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:08:54.340 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:09:04.352 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:09:14.361 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:09:24.367 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:09:34.373 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:09:44.383 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:09:54.393 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:10:04.405 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:10:14.413 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:10:24.417 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:10:33.873 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:10:33.874 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:10:34.425 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:10:44.435 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:10:54.445 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:11:04.456 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:11:14.466 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:11:24.476 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:11:34.482 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:11:44.485 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:11:54.497 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:12:04.507 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:12:14.514 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:12:24.525 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:12:33.878 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:12:33.878 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:12:34.535 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:12:44.544 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:12:54.554 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:13:04.562 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:13:14.568 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:13:24.577 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:13:34.584 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:13:44.591 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:13:54.601 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:14:04.612 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:14:14.621 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:14:24.628 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:14:33.884 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:14:33.885 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:14:34.630 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:14:44.639 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:14:54.644 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:15:04.654 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:15:14.664 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:15:24.671 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:15:34.680 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:15:44.691 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:15:54.703 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:16:04.711 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:16:14.721 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:16:24.728 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:16:33.896 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:16:33.896 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:16:34.739 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:16:44.742 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:16:54.746 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:17:04.756 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:17:14.768 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:17:24.776 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:17:34.782 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:17:44.793 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:17:54.803 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:18:04.814 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:18:14.823 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:18:24.833 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:18:33.903 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:18:33.904 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:18:34.836 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:18:44.848 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:18:54.859 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:19:04.867 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:19:14.877 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:19:24.888 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:19:34.900 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:19:44.907 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:19:54.918 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:20:04.928 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:20:14.940 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:20:24.950 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:20:33.912 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:20:33.913 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:20:34.959 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:20:44.969 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:20:54.975 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:21:04.981 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:21:14.986 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:21:24.990 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:21:34.992 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:21:44.993 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:21:54.996 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:22:05.002 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:22:15.008 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:22:25.014 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:22:33.919 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:22:33.920 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:22:35.020 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:22:45.026 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:22:55.032 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:23:05.035 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:23:15.040 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:23:25.046 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:23:35.051 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:23:45.056 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:23:55.063 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:24:05.068 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:24:15.075 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:24:25.079 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:24:33.928 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:24:33.928 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:24:35.083 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:24:45.085 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:24:55.092 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:25:05.095 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:25:15.098 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:25:25.104 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:25:35.109 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:25:45.115 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:25:55.122 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:26:05.127 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:26:15.134 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:26:25.137 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:26:33.933 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:26:33.934 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:26:35.139 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:26:45.145 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:26:55.152 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:27:05.158 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:27:15.159 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:27:25.163 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:27:35.165 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:27:45.187 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:27:55.195 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:28:05.197 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:28:15.201 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:28:25.206 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:28:33.941 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:28:33.941 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:28:35.211 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:28:45.218 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:28:55.223 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:29:05.230 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:29:15.235 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:29:25.241 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:29:35.256 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:29:45.262 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:29:55.266 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:30:05.273 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:30:15.279 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:30:25.284 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:30:33.953 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:30:33.953 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:30:35.289 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:30:45.295 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:30:55.300 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:31:05.306 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:31:15.312 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:31:25.318 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:31:35.324 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:31:45.329 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:31:55.336 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:32:05.341 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:32:15.345 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:32:25.348 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:32:33.960 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-06 16:32:33.960 DEBUG 85964 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-06 16:32:35.354 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:32:45.358 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:32:55.361 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:33:05.363 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:33:15.370 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:33:25.375 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:33:35.381 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:33:45.388 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:33:55.393 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:34:05.400 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:34:15.406 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-06 16:34:19.368  INFO 85964 --- [SpringApplicationShutdownHook] c.g.kagkarlsson.scheduler.Scheduler      : Shutting down Scheduler.
2024-09-06 16:34:19.369 DEBUG 85964 --- [db-scheduler-execute-due-pool-2-thread-1] c.g.k.scheduler.RunUntilShutdown         : Thread 'db-scheduler-execute-due-pool-2-thread-1' interrupted due to shutdown.
2024-09-06 16:34:19.370  INFO 85964 --- [SpringApplicationShutdownHook] c.github.kagkarlsson.scheduler.Executor  : Letting running executions finish. Will wait up to 2xPT30M.
2024-09-06 16:34:19.370  INFO 85964 --- [SpringApplicationShutdownHook] c.github.kagkarlsson.scheduler.Executor  : Scheduler stopped.
2024-09-06 16:34:19.382  INFO 85964 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-06 16:34:19.387  INFO 85964 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
