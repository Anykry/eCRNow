2024-09-05 15:42:42.366  INFO 70881 --- [main] com.drajer.ecrapp.EcrApp                 : Starting EcrApp v0.0.1-SNAPSHOT using Java 22.0.1 on MacBook-Pro-2019.local with PID 70881 (/Users/andrewkrylov/eCRNow/target/ecr-now.war started by andrewkrylov in /Users/andrewkrylov/eCRNow)
2024-09-05 15:42:42.370  INFO 70881 --- [main] com.drajer.ecrapp.EcrApp                 : No active profile set, falling back to 1 default profile: "default"
2024-09-05 15:42:44.563  INFO 70881 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-05 15:42:44.607  INFO 70881 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 JPA repository interfaces.
2024-09-05 15:42:45.118  INFO 70881 --- [main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version 5.4.0 - Rev b463b072c8
2024-09-05 15:42:45.128  INFO 70881 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 15:42:46.232  INFO 70881 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2024-09-05 15:42:46.247  INFO 70881 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-05 15:42:46.247  INFO 70881 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
2024-09-05 15:42:52.809  INFO 70881 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-05 15:42:52.809  INFO 70881 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10355 ms
2024-09-05 15:42:53.428  INFO 70881 --- [main] o.s.boot.web.servlet.RegistrationBean    : Filter requestMDCFilter was not registered (possibly already registered?)
2024-09-05 15:42:54.298  INFO 70881 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2024-09-05 15:42:54.710  INFO 70881 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-09-05 15:42:54.879  WARN 70881 --- [main] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2024-09-05 15:42:54.879  INFO 70881 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-05 15:42:55.099  INFO 70881 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-05 15:42:55.121  INFO 70881 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2024-09-05 15:42:55.598  WARN 70881 --- [main] org.hibernate.mapping.RootClass          : HHH000038: Composite-id class does not override equals(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-05 15:42:55.598  WARN 70881 --- [main] org.hibernate.mapping.RootClass          : HHH000039: Composite-id class does not override hashCode(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-05 15:42:55.935  INFO 70881 --- [main] c.drajer.bsa.model.PublicHealthMessage   : PublicHealthMessage initiated.
2024-09-05 15:42:56.709  INFO 70881 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-09-05 15:42:57.274  INFO 70881 --- [main] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  No custom queries defined
2024-09-05 15:42:57.304  INFO 70881 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 15:42:57.374  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-05 15:42:57.390  INFO 70881 --- [main] ca.uhn.fhir.util.XmlUtil                 : Unable to determine StAX implementation: java.xml/META-INF/MANIFEST.MF not found
2024-09-05 15:43:00.081  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-05 15:43:00.240  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-05 15:43:00.561  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-05 15:43:01.168  INFO 70881 --- [main] c.d.b.s.ScheduleJobConfiguration         : Initializing the One time task
2024-09-05 15:43:01.188  INFO 70881 --- [main] c.d.ecrapp.config.TaskConfiguration      : Initializing the One time task
2024-09-05 15:43:01.191  INFO 70881 --- [main] c.d.ecrapp.config.TaskConfiguration      : One time task execution done
2024-09-05 15:43:01.240 DEBUG 70881 --- [main] .b.a.DbSchedulerMetricsAutoConfiguration : Spring Boot Actuator and Micrometer detected. Will use: io.micrometer.core.instrument.simple.SimpleMeterRegistry for StatsRegistry
2024-09-05 15:43:01.251  INFO 70881 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : Creating db-scheduler using tasks from Spring context: [OneTimeTask name=BsaScheduledJob, OneTimeTask name=EICRTask]
2024-09-05 15:43:01.252 DEBUG 70881 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : The configured DataSource is not transaction aware: 'HikariDataSource (HikariPool-1)'. Wrapping in TransactionAwareDataSourceProxy.
2024-09-05 15:43:01.265 DEBUG 70881 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detecting database...
2024-09-05 15:43:01.281  INFO 70881 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detected database PostgreSQL.
2024-09-05 15:43:01.281  INFO 70881 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Using PostgreSQL jdbc-overrides.
2024-09-05 15:43:01.290  INFO 70881 --- [main] c.g.k.scheduler.SchedulerBuilder         : Creating scheduler with configuration: threads=10, pollInterval=10s, heartbeat=60s enable-immediate-execution=false, table-name=scheduled_tasks, name=eCRNow-Instance-1
2024-09-05 15:43:01.297  INFO 70881 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Using polling-strategy: type=FETCH, lowerLimit=0.5, upperLimit=3.0
2024-09-05 15:43:01.837  INFO 70881 --- [main] c.d.e.service.PlanDefinitionProcessor    :  Reading ERSD Bundle File 
2024-09-05 15:43:01.840 ERROR 70881 --- [main] c.d.e.service.PlanDefinitionProcessor    : Exception Reading ERSD File

java.io.FileNotFoundException: /users/andrewkrylov/Downloads/ersd.json (No such file or directory)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.readErsdBundleFromFile(PlanDefinitionProcessor.java:343)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.processResourceBundle(PlanDefinitionProcessor.java:100)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.initializeClientMethods(PlanDefinitionProcessor.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.drajer.ecrapp.EcrApp.main(EcrApp.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)

2024-09-05 15:43:01.892  INFO 70881 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 15:43:02.212  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-05 15:43:03.324  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-05 15:43:03.412  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-05 15:43:03.710  INFO 70881 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-05 15:43:04.223  INFO 70881 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Persisting Kars for each Repo 
2024-09-05 15:43:04.382  WARN 70881 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: c7804e7d-2250-4f49-b421-0c5692bfa0de

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-09-05 15:43:04.501  INFO 70881 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-05 15:43:04.502  INFO 70881 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Security Configuration 
2024-09-05 15:43:04.502  INFO 70881 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-05 15:43:04.502  INFO 70881 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Token Filter class Name is empty
2024-09-05 15:43:04.508  WARN 70881 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/meta/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-05 15:43:04.508  INFO 70881 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/meta/**']
2024-09-05 15:43:04.509  WARN 70881 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/actuator/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-05 15:43:04.509  INFO 70881 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/actuator/**']
2024-09-05 15:43:04.696  INFO 70881 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48632f69, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fde1d64, org.springframework.security.web.context.SecurityContextPersistenceFilter@2bf3ec4, org.springframework.security.web.header.HeaderWriterFilter@ae3c140, org.springframework.security.web.authentication.logout.LogoutFilter@5c8b10b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c6379c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@625264ed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5350ab17, org.springframework.security.web.session.SessionManagementFilter@7eae55, org.springframework.security.web.access.ExceptionTranslationFilter@78eafad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30798137]
2024-09-05 15:43:06.042  INFO 70881 --- [main] c.g.k.s.b.config.startup.ImmediateStart  : Triggering scheduler start
2024-09-05 15:43:06.055  INFO 70881 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Starting scheduler.
2024-09-05 15:43:06.057 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:43:06.070 DEBUG 70881 --- [main] b.a.DbSchedulerActuatorAutoConfiguration : Exposing health indicator for db-scheduler
2024-09-05 15:43:06.072 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:06.074 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:43:06.853  INFO 70881 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2024-09-05 15:43:06.987  INFO 70881 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2024-09-05 15:43:07.016  INFO 70881 --- [main] com.drajer.ecrapp.EcrApp                 : Started EcrApp in 25.908 seconds (JVM running for 26.916)
2024-09-05 15:43:16.079 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:26.076 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:36.064 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:46.058 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:43:56.059 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:06.062 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:16.066 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:26.071 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:36.076 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:46.082 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:44:56.088 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:06.054 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:45:06.054 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:45:06.094 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:16.098 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:26.104 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:36.109 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:46.115 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:45:56.121 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:06.127 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:16.133 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:26.139 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:36.145 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:46.149 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:46:56.155 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:06.061 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:47:06.062 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:47:06.159 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:16.165 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:26.170 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:36.176 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:46.182 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:47:56.187 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:06.194 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:16.200 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:26.206 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:36.211 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:46.217 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:48:56.222 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:06.067 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:49:06.068 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:49:06.225 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:16.231 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:26.236 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:36.243 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:46.249 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:49:56.255 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:06.262 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:16.268 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:26.274 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:36.279 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:46.286 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:50:56.291 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:06.074 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:51:06.075 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:51:06.298 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:16.306 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:26.312 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:36.318 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:46.323 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:51:56.328 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:06.335 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:16.341 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:26.349 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:36.355 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:46.359 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:52:50.593  INFO 70881 --- [http-nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-05 15:52:50.594  INFO 70881 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-05 15:52:50.612  INFO 70881 --- [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2024-09-05 15:52:50.665  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 15:52:50.665  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 15:52:50.665  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 15:52:50.665  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 15:52:50.896  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 15:52:50.896  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 15:52:51.067  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 15:52:51.153  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 15:52:56.365 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:06.085 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:53:06.085 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:53:06.369 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:16.375 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:26.379 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:36.384 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:46.389 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:53:55.099  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 15:53:55.099  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 15:53:55.099  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 15:53:55.100  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 15:53:55.102  INFO 70881 --- [http-nio-8081-exec-4] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 15:53:55.102  INFO 70881 --- [http-nio-8081-exec-4] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 15:53:55.103  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 15:53:55.107  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 15:53:56.395 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:06.400 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:16.405 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:26.410 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:36.416 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:46.422 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:54:56.428 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:06.091 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:55:06.092 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:55:06.434 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:16.439 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:26.446 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:36.452 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:46.457 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:55:56.463 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:06.468 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:16.474 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:26.479 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:36.485 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:46.491 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:56:56.497 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:06.094 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:57:06.094 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:57:06.502 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:16.507 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:26.524 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:36.530 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:46.547 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:57:56.553 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:06.558 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:16.563 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:26.569 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:36.575 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:46.579 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:58:55.772  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 15:58:55.773  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 15:58:55.773  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 15:58:55.773  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 15:58:55.776  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 15:58:55.776  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 15:58:55.779  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 15:58:55.784  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 15:58:56.596 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:06.098 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 15:59:06.099 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 15:59:06.602 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:16.612 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:26.620 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:36.642 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:46.648 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 15:59:56.654 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:06.660 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:16.667 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:26.672 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:36.678 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:46.684 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:00:56.691 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:06.103 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:01:06.104 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:01:06.694 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:16.700 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:26.707 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:36.711 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:46.716 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:01:56.723 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:06.729 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:16.736 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:25.534  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:02:25.535  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:02:25.535  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:02:25.535  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:02:25.543  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:02:25.544  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:02:25.546  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:02:25.556  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:02:26.742 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:36.749 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:46.070  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:02:46.071  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:02:46.071  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:02:46.071  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:02:46.072  INFO 70881 --- [http-nio-8081-exec-9] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:02:46.072  INFO 70881 --- [http-nio-8081-exec-9] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:02:46.073  WARN 70881 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:02:46.076  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:02:46.757 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:02:56.763 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:06.106 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:03:06.107 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:03:06.768 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:16.773 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:26.780 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:36.787 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:46.793 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:03:53.712  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: b7f3ea57-9920-4401-a329-0943946b6140
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId b7f3ea57-9920-4401-a329-0943946b6140 associated to correlationId null for domain null
2024-09-05 16:03:53.712  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 922d5622-2374-46b3-bc7a-534d2c37d72f
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:03:53.713  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 922d5622-2374-46b3-bc7a-534d2c37d72f associated to correlationId null for domain null
2024-09-05 16:03:53.830  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 922d5622-2374-46b3-bc7a-534d2c37d72f associated to correlationId null for domain null
2024-09-05 16:03:53.835  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId b7f3ea57-9920-4401-a329-0943946b6140 associated to correlationId null for domain null
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 50cab39c-c730-49d3-af43-c50fe34097cf
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 50cab39c-c730-49d3-af43-c50fe34097cf associated to correlationId null for domain null
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 32732800-7640-4a47-a214-469e3d7ce16d
2024-09-05 16:03:53.845  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:03:53.846  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:03:53.846  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 32732800-7640-4a47-a214-469e3d7ce16d associated to correlationId null for domain null
2024-09-05 16:03:53.905  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:03:53.909  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:03:53.929  INFO 70881 --- [http-nio-8081-exec-4] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:03:53.933  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 32732800-7640-4a47-a214-469e3d7ce16d associated to correlationId null for domain null
2024-09-05 16:03:53.933  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 50cab39c-c730-49d3-af43-c50fe34097cf associated to correlationId null for domain null
2024-09-05 16:03:56.799 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:06.803 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:16.809 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:26.694  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ef47881d-cd99-4c7f-8e73-45a1ed86c3a3
2024-09-05 16:04:26.694  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:26.694  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:26.694  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId ef47881d-cd99-4c7f-8e73-45a1ed86c3a3 associated to correlationId null for domain null
2024-09-05 16:04:26.696  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId ef47881d-cd99-4c7f-8e73-45a1ed86c3a3 associated to correlationId null for domain null
2024-09-05 16:04:26.759  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 62ff3234-8cb3-4b75-837e-2b82f326cdac
2024-09-05 16:04:26.760  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:26.760  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:26.760  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 62ff3234-8cb3-4b75-837e-2b82f326cdac associated to correlationId null for domain null
2024-09-05 16:04:26.816 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:26.871  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:26.876  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:04:27.082  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 62ff3234-8cb3-4b75-837e-2b82f326cdac associated to correlationId null for domain null
2024-09-05 16:04:27.111  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 8de17673-85cf-4233-a5d3-d8010c025007
2024-09-05 16:04:27.111  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:27.111  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:27.111  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 8de17673-85cf-4233-a5d3-d8010c025007 associated to correlationId null for domain null
2024-09-05 16:04:27.113  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 8de17673-85cf-4233-a5d3-d8010c025007 associated to correlationId null for domain null
2024-09-05 16:04:27.119  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 2919de52-034d-4b4e-964d-cda82f37ae19
2024-09-05 16:04:27.121  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:27.121  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:27.121  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 2919de52-034d-4b4e-964d-cda82f37ae19 associated to correlationId null for domain null
2024-09-05 16:04:27.130  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 2919de52-034d-4b4e-964d-cda82f37ae19 associated to correlationId null for domain null
2024-09-05 16:04:27.205  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 58a0b215-79d2-4a55-b933-904b70f012e9
2024-09-05 16:04:27.206  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:27.207  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:27.207  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 58a0b215-79d2-4a55-b933-904b70f012e9 associated to correlationId null for domain null
2024-09-05 16:04:27.213  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:27.269  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 58a0b215-79d2-4a55-b933-904b70f012e9 associated to correlationId null for domain null
2024-09-05 16:04:33.880  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:04:33.881  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:33.881  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:33.881  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:04:33.883  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir/, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:04:33.883  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:04:33.883  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:33.886  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:04:36.834 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:46.840 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:56.846 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:04:58.030  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:04:58.031  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:04:58.031  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:04:58.031  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:04:58.034  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:04:58.034  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:04:58.035  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:58.038  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:04:58.081  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:04:58.086  INFO 70881 --- [http-nio-8081-exec-3] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:04:58.089  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:04:58.090  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:04:58.097  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:04:58.097  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ect
2024-09-05 16:04:58.097  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:04:58.875 ERROR 70881 --- [http-nio-8081-exec-3] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:04:58.877  INFO 70881 --- [http-nio-8081-exec-3] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:04:58.882  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:04:58.885 ERROR 70881 --- [http-nio-8081-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:05:06.110 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:05:06.110 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:05:06.852 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:16.894 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:26.901 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:36.904 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:46.909 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:05:56.917 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:06.921 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:16.926 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:26.931 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:36.933 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:46.936 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:06:56.941 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:06.115 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:07:06.116 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:07:06.945 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:16.947 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:26.953 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:36.958 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:46.965 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:07:56.970 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:06.978 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:16.982 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:17.886  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 29bc2035-40af-4952-afe8-f850ea283d93
2024-09-05 16:08:17.886  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 094a4d21-a423-4d65-9277-0c8e05fc5498
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 094a4d21-a423-4d65-9277-0c8e05fc5498 associated to correlationId null for domain null
2024-09-05 16:08:17.887  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 29bc2035-40af-4952-afe8-f850ea283d93 associated to correlationId null for domain null
2024-09-05 16:08:17.899  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:17.900  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:17.907  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 29bc2035-40af-4952-afe8-f850ea283d93 associated to correlationId null for domain null
2024-09-05 16:08:17.909  INFO 70881 --- [http-nio-8081-exec-7] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:08:17.912  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 094a4d21-a423-4d65-9277-0c8e05fc5498 associated to correlationId null for domain null
2024-09-05 16:08:26.985 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:36.106  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: cff8cf55-e6bb-46a1-9c4f-65924d4de72b
2024-09-05 16:08:36.107  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:36.107  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:36.107  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId cff8cf55-e6bb-46a1-9c4f-65924d4de72b associated to correlationId null for domain null
2024-09-05 16:08:36.113  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:36.119  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:36.123  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:08:36.128  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId cff8cf55-e6bb-46a1-9c4f-65924d4de72b associated to correlationId null for domain null
2024-09-05 16:08:36.163  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 88961c4d-2708-4cd2-a851-9c3d6d53b445
2024-09-05 16:08:36.163  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:36.164  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:36.164  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 88961c4d-2708-4cd2-a851-9c3d6d53b445 associated to correlationId null for domain null
2024-09-05 16:08:36.168  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 88961c4d-2708-4cd2-a851-9c3d6d53b445 associated to correlationId null for domain null
2024-09-05 16:08:36.214  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: dd2ad5d7-4664-4710-b743-f23a319c0e8e
2024-09-05 16:08:36.214  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:36.214  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:36.214  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId dd2ad5d7-4664-4710-b743-f23a319c0e8e associated to correlationId null for domain null
2024-09-05 16:08:36.216  WARN 70881 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:36.222  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId dd2ad5d7-4664-4710-b743-f23a319c0e8e associated to correlationId null for domain null
2024-09-05 16:08:36.991 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:43.597  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: e358372a-34fd-4f73-b187-7ec89edbd32c
2024-09-05 16:08:43.597  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:43.597  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:43.597  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId e358372a-34fd-4f73-b187-7ec89edbd32c associated to correlationId null for domain null
2024-09-05 16:08:43.605  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:43.608  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: b1516fc7-a803-4209-930d-25ff7897c580
2024-09-05 16:08:43.609  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:08:43.610  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:08:43.611  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId b1516fc7-a803-4209-930d-25ff7897c580 associated to correlationId null for domain null
2024-09-05 16:08:43.616  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId e358372a-34fd-4f73-b187-7ec89edbd32c associated to correlationId null for domain null
2024-09-05 16:08:43.619  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:08:43.625  INFO 70881 --- [http-nio-8081-exec-2] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:08:43.629  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId b1516fc7-a803-4209-930d-25ff7897c580 associated to correlationId null for domain null
2024-09-05 16:08:46.996 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:08:57.002 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:05.374  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 505c705a-9a67-4a0e-b099-7f3fd9c5b211
2024-09-05 16:09:05.375  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:05.375  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:05.375  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 505c705a-9a67-4a0e-b099-7f3fd9c5b211 associated to correlationId null for domain null
2024-09-05 16:09:05.380  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:05.388  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 505c705a-9a67-4a0e-b099-7f3fd9c5b211 associated to correlationId null for domain null
2024-09-05 16:09:06.120 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:09:06.120 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:09:07.004 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:07.199  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 88eb435e-292c-41eb-8b5f-874f871d2d9c
2024-09-05 16:09:07.199  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:07.199  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:07.199  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 88eb435e-292c-41eb-8b5f-874f871d2d9c associated to correlationId null for domain null
2024-09-05 16:09:07.202  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:07.204  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 88eb435e-292c-41eb-8b5f-874f871d2d9c associated to correlationId null for domain null
2024-09-05 16:09:07.207  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: a363b593-87c2-4ff6-abd7-a194fcf823ed
2024-09-05 16:09:07.207  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:07.207  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:07.207  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId a363b593-87c2-4ff6-abd7-a194fcf823ed associated to correlationId null for domain null
2024-09-05 16:09:07.210  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:07.214  INFO 70881 --- [http-nio-8081-exec-5] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:09:07.217  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId a363b593-87c2-4ff6-abd7-a194fcf823ed associated to correlationId null for domain null
2024-09-05 16:09:12.606  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 9263732b-08b2-4a83-a58c-1068de3cd9f1
2024-09-05 16:09:12.606  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:12.606  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:12.606  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 9263732b-08b2-4a83-a58c-1068de3cd9f1 associated to correlationId null for domain null
2024-09-05 16:09:12.608  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:12.614  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 9263732b-08b2-4a83-a58c-1068de3cd9f1 associated to correlationId null for domain null
2024-09-05 16:09:15.840  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f4a324ab-731d-4235-bfb3-b0d3aec0f23e
2024-09-05 16:09:15.841  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:15.841  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:15.842  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId f4a324ab-731d-4235-bfb3-b0d3aec0f23e associated to correlationId null for domain null
2024-09-05 16:09:15.844  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:15.856  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId f4a324ab-731d-4235-bfb3-b0d3aec0f23e associated to correlationId null for domain null
2024-09-05 16:09:17.008 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:17.285  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: fc23471f-de17-4bac-81ca-68ad98ba2f25
2024-09-05 16:09:17.286  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:17.286  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:17.286  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId fc23471f-de17-4bac-81ca-68ad98ba2f25 associated to correlationId null for domain null
2024-09-05 16:09:17.287  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:17.293  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId fc23471f-de17-4bac-81ca-68ad98ba2f25 associated to correlationId null for domain null
2024-09-05 16:09:17.295  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 1b6f466e-a231-4fd5-be79-883e357d0266
2024-09-05 16:09:17.295  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:17.295  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:17.295  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 1b6f466e-a231-4fd5-be79-883e357d0266 associated to correlationId null for domain null
2024-09-05 16:09:17.312  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:17.315  INFO 70881 --- [http-nio-8081-exec-10] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:09:17.318  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 1b6f466e-a231-4fd5-be79-883e357d0266 associated to correlationId null for domain null
2024-09-05 16:09:27.013 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:30.143  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:09:30.143  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:09:30.143  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:09:30.144  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:09:30.145  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:09:30.146  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:09:30.146  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:30.148  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ect
2024-09-05 16:09:30.165  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:09:30.447 ERROR 70881 --- [http-nio-8081-exec-1] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:09:30.447  INFO 70881 --- [http-nio-8081-exec-1] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:09:30.448  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:09:30.450 ERROR 70881 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:09:37.014 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:47.019 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:09:57.020 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:07.025 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:17.030 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:27.035 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:37.036 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:47.043 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:10:51.809  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 412c749f-affd-4d0b-a013-c23573c7f7b4
2024-09-05 16:10:51.809  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:51.809  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:51.809  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 412c749f-affd-4d0b-a013-c23573c7f7b4 associated to correlationId null for domain null
2024-09-05 16:10:51.811  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:51.813  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:51.817  INFO 70881 --- [http-nio-8081-exec-3] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:10:51.822  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 412c749f-affd-4d0b-a013-c23573c7f7b4 associated to correlationId null for domain null
2024-09-05 16:10:51.873  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 08744554-35a6-48cf-944c-d805ebaa5b69
2024-09-05 16:10:51.874  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:51.874  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:51.874  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 08744554-35a6-48cf-944c-d805ebaa5b69 associated to correlationId null for domain null
2024-09-05 16:10:51.877  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 08744554-35a6-48cf-944c-d805ebaa5b69 associated to correlationId null for domain null
2024-09-05 16:10:51.913  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 2030c845-ec27-4ac9-87c9-cc78ba8572d8
2024-09-05 16:10:51.913  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:51.914  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:51.914  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 2030c845-ec27-4ac9-87c9-cc78ba8572d8 associated to correlationId null for domain null
2024-09-05 16:10:51.915  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:51.923  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 2030c845-ec27-4ac9-87c9-cc78ba8572d8 associated to correlationId null for domain null
2024-09-05 16:10:53.369  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 208afe87-7100-4729-b921-53095166b7da
2024-09-05 16:10:53.370  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:53.370  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:53.371  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 208afe87-7100-4729-b921-53095166b7da associated to correlationId null for domain null
2024-09-05 16:10:53.373  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:53.374  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c8d51391-6c1a-4b41-971d-c240c9a2516d
2024-09-05 16:10:53.375  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:10:53.375  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:10:53.375  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId c8d51391-6c1a-4b41-971d-c240c9a2516d associated to correlationId null for domain null
2024-09-05 16:10:53.381  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:10:53.384  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 208afe87-7100-4729-b921-53095166b7da associated to correlationId null for domain null
2024-09-05 16:10:53.386  INFO 70881 --- [http-nio-8081-exec-8] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:10:53.390  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId c8d51391-6c1a-4b41-971d-c240c9a2516d associated to correlationId null for domain null
2024-09-05 16:10:57.045 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:06.127 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:11:06.128 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:11:07.051 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:17.058 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:27.061 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:37.063 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:47.067 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:57.071 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:11:57.108  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 4bfb0b89-73d0-4a90-bbeb-29f47b58cd18
2024-09-05 16:11:57.108  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:11:57.108  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:11:57.108  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 4bfb0b89-73d0-4a90-bbeb-29f47b58cd18 associated to correlationId null for domain null
2024-09-05 16:11:57.110  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:11:57.114  WARN 70881 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:11:57.117  INFO 70881 --- [http-nio-8081-exec-1] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:11:57.151  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 4bfb0b89-73d0-4a90-bbeb-29f47b58cd18 associated to correlationId null for domain null
2024-09-05 16:11:57.156 ERROR 70881 --- [http-nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:320)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:643)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.service.impl.HealthcareSettingsServiceImpl$$EnhancerBySpringCGLIB$$7679aec8.saveOrUpdate(<generated>)
	at com.drajer.bsa.controller.HealthcareSettingsController.updateHealthcareSettings(HealthcareSettingsController.java:135)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:558)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:12:07.075 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:14.328  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: da3f49ca-e193-41da-a081-38d9751c5ef8
2024-09-05 16:12:14.328  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:12:14.328  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:12:14.328  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId da3f49ca-e193-41da-a081-38d9751c5ef8 associated to correlationId null for domain null
2024-09-05 16:12:14.330  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:12:14.333  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:12:14.335  INFO 70881 --- [http-nio-8081-exec-4] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:12:14.336  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId da3f49ca-e193-41da-a081-38d9751c5ef8 associated to correlationId null for domain null
2024-09-05 16:12:14.337 ERROR 70881 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:320)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:643)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.service.impl.HealthcareSettingsServiceImpl$$EnhancerBySpringCGLIB$$7679aec8.saveOrUpdate(<generated>)
	at com.drajer.bsa.controller.HealthcareSettingsController.updateHealthcareSettings(HealthcareSettingsController.java:135)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:558)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:12:17.081 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:27.084 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:37.085 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:47.089 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:12:57.095 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:06.131 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:13:06.131 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:13:07.098 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:17.104 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:18.879  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ef024478-23d7-4692-b3c9-3fd8dfc5166e
2024-09-05 16:13:18.879  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:18.879  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:18.880  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId ef024478-23d7-4692-b3c9-3fd8dfc5166e associated to correlationId null for domain null
2024-09-05 16:13:18.883  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:18.892  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:18.895  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:13:18.900  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId ef024478-23d7-4692-b3c9-3fd8dfc5166e associated to correlationId null for domain null
2024-09-05 16:13:18.931  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: d6421651-07fe-444b-a850-43f4a789a2f5
2024-09-05 16:13:18.931  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:18.932  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:18.932  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId d6421651-07fe-444b-a850-43f4a789a2f5 associated to correlationId null for domain null
2024-09-05 16:13:18.934  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId d6421651-07fe-444b-a850-43f4a789a2f5 associated to correlationId null for domain null
2024-09-05 16:13:18.966  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 9a32b5d4-3616-4658-b921-bd785d9f049a
2024-09-05 16:13:18.966  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:18.966  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:18.966  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 9a32b5d4-3616-4658-b921-bd785d9f049a associated to correlationId null for domain null
2024-09-05 16:13:18.970  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:18.976  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 9a32b5d4-3616-4658-b921-bd785d9f049a associated to correlationId null for domain null
2024-09-05 16:13:27.107 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:30.598  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:13:30.598  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:30.598  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:30.598  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:13:30.600  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:13:30.600  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:13:30.600  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:30.602  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:13:30.603  INFO 70881 --- [http-nio-8081-exec-6] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:13:30.943 ERROR 70881 --- [http-nio-8081-exec-6] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:13:30.954  INFO 70881 --- [http-nio-8081-exec-6] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:13:30.955  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:13:30.956 ERROR 70881 --- [http-nio-8081-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:13:37.112 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:47.116 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:13:53.161  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ac8e5e45-bb7e-4952-a18b-9310ca85088a
2024-09-05 16:13:53.162  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:53.162  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:53.162  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId ac8e5e45-bb7e-4952-a18b-9310ca85088a associated to correlationId null for domain null
2024-09-05 16:13:53.164  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:53.168  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId ac8e5e45-bb7e-4952-a18b-9310ca85088a associated to correlationId null for domain null
2024-09-05 16:13:53.173  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 5046f0be-bdbd-44ea-9885-00bcd760a1e9
2024-09-05 16:13:53.173  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:13:53.174  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:13:53.174  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 5046f0be-bdbd-44ea-9885-00bcd760a1e9 associated to correlationId null for domain null
2024-09-05 16:13:53.177  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:13:53.183  INFO 70881 --- [http-nio-8081-exec-10] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:13:53.185  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 5046f0be-bdbd-44ea-9885-00bcd760a1e9 associated to correlationId null for domain null
2024-09-05 16:13:57.119 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:07.122 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:08.166  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ae0aa9ee-83ce-4afa-8f69-7290da503318
2024-09-05 16:14:08.166  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:08.166  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:08.166  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ being handled for requestId ae0aa9ee-83ce-4afa-8f69-7290da503318 associated to correlationId null for domain null
2024-09-05 16:14:08.199  WARN 70881 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:08.225  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ completed for requestId ae0aa9ee-83ce-4afa-8f69-7290da503318 associated to correlationId null for domain null
2024-09-05 16:14:17.127 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:27.134 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:35.180  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: cc2594ec-35a9-4787-b171-149dc356a277
2024-09-05 16:14:35.180  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:35.180  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:35.180  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails being handled for requestId cc2594ec-35a9-4787-b171-149dc356a277 associated to correlationId null for domain null
2024-09-05 16:14:35.182  INFO 70881 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails completed for requestId cc2594ec-35a9-4787-b171-149dc356a277 associated to correlationId null for domain null
2024-09-05 16:14:35.185  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f22d8081-4886-48c9-a1c0-ab95cae942d9
2024-09-05 16:14:35.186  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:35.186  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:35.186  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails being handled for requestId f22d8081-4886-48c9-a1c0-ab95cae942d9 associated to correlationId null for domain null
2024-09-05 16:14:35.204  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:35.208  INFO 70881 --- [http-nio-8081-exec-4] c.d.sof.launch.ClientDetailsController   : Saving the Client Details
2024-09-05 16:14:37.140 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:38.173  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ab4704b9-1b8f-41ba-9f01-270e7c542272
2024-09-05 16:14:38.173  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:38.173  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:38.174  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ being handled for requestId ab4704b9-1b8f-41ba-9f01-270e7c542272 associated to correlationId null for domain null
2024-09-05 16:14:38.175  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:38.180  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails/ completed for requestId ab4704b9-1b8f-41ba-9f01-270e7c542272 associated to correlationId null for domain null
2024-09-05 16:14:39.849  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/clientDetails completed for requestId f22d8081-4886-48c9-a1c0-ab95cae942d9 associated to correlationId null for domain null
2024-09-05 16:14:45.824  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 874cdcdb-11be-4822-9b3f-0b3adce4a055
2024-09-05 16:14:45.824  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:45.825  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:45.825  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 874cdcdb-11be-4822-9b3f-0b3adce4a055 associated to correlationId null for domain null
2024-09-05 16:14:45.827  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:45.831  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 874cdcdb-11be-4822-9b3f-0b3adce4a055 associated to correlationId null for domain null
2024-09-05 16:14:47.146 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:14:47.160  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: df969455-e246-4a00-b2b8-db55ffcb5530
2024-09-05 16:14:47.160  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:47.160  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:47.160  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId df969455-e246-4a00-b2b8-db55ffcb5530 associated to correlationId null for domain null
2024-09-05 16:14:47.162  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:47.164  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId df969455-e246-4a00-b2b8-db55ffcb5530 associated to correlationId null for domain null
2024-09-05 16:14:47.166  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: b2d88505-1b01-48fd-a0e5-88bb07c1879a
2024-09-05 16:14:47.166  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:14:47.166  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:14:47.166  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId b2d88505-1b01-48fd-a0e5-88bb07c1879a associated to correlationId null for domain null
2024-09-05 16:14:47.169  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:14:47.176  INFO 70881 --- [http-nio-8081-exec-7] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:14:47.180  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId b2d88505-1b01-48fd-a0e5-88bb07c1879a associated to correlationId null for domain null
2024-09-05 16:14:57.151 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:05.217  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:15:05.218  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:15:05.218  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:15:05.218  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:15:05.219  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:15:05.219  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:15:05.220  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:15:05.222  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:15:05.224  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:15:05.225  INFO 70881 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:15:05.716 ERROR 70881 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:15:05.718  INFO 70881 --- [http-nio-8081-exec-8] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:15:05.718  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:15:05.719 ERROR 70881 --- [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:15:06.134 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:15:06.134 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:15:07.156 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:17.158 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:27.163 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:37.167 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:47.174 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:15:57.180 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:16:07.187 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:16:17.210 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:16:27.235 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:03.253 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:13.266 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:21.494  WARN 70881 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m56s24ms).
2024-09-05 16:20:23.278 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:32.181 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:20:32.182 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:20:33.283 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:20:43.290 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:07.608  WARN 70881 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m46s128ms).
2024-09-05 16:23:09.402 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:19.446 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:29.458 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:39.468 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:23:49.482 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:04.943 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:13.081  WARN 70881 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m35s459ms).
2024-09-05 16:44:14.951 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:24.958 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:34.962 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:44.968 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:44:53.751 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:44:53.753 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:45:17.029 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:45:27.038 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:45:33.774  WARN 70881 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s683ms).
2024-09-05 16:45:37.041 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:45:47.051 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:45:57.064 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:04.066  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:46:04.067  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:46:04.068  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:46:04.068  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:46:04.105  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:46:04.106  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:46:04.112  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:46:04.139  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:46:04.154  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:46:04.156  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:46:04.902 ERROR 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://webhook.site/205f7619-9430-4b35-b095-bd024ddb2284

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:46:04.903  INFO 70881 --- [http-nio-8081-exec-2] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:46:04.905  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:46:04.908 ERROR 70881 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:46:07.083 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:17.088 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:27.094 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:37.100 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:47.106 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:46:57.113 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:07.119 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:14.456 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:47:14.456 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:47:17.124 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:27.130 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:37.136 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:42.666  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 7ecc7b3c-c0a2-4e73-9f5a-743f17ca3e8f
2024-09-05 16:47:42.667  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:47:42.667  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:47:42.667  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 7ecc7b3c-c0a2-4e73-9f5a-743f17ca3e8f associated to correlationId null for domain null
2024-09-05 16:47:42.675  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:47:42.685  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 7ecc7b3c-c0a2-4e73-9f5a-743f17ca3e8f associated to correlationId null for domain null
2024-09-05 16:47:45.265  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ba520537-e0e1-436d-9916-7d37b1fe3aa8
2024-09-05 16:47:45.266  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:47:45.267  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:47:45.267  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId ba520537-e0e1-436d-9916-7d37b1fe3aa8 associated to correlationId null for domain null
2024-09-05 16:47:45.274  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0bc473b4-8752-4ebd-80a2-204a213298f0
2024-09-05 16:47:45.274  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:47:45.274  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:47:45.274  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 0bc473b4-8752-4ebd-80a2-204a213298f0 associated to correlationId null for domain null
2024-09-05 16:47:45.275  WARN 70881 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:47:45.286  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:47:45.288  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId ba520537-e0e1-436d-9916-7d37b1fe3aa8 associated to correlationId null for domain null
2024-09-05 16:47:45.307  INFO 70881 --- [http-nio-8081-exec-5] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:47:45.309  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 0bc473b4-8752-4ebd-80a2-204a213298f0 associated to correlationId null for domain null
2024-09-05 16:47:47.142 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:47:57.146 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:07.152 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:17.157 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:27.165 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:37.170 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:47.176 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:48:57.181 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:07.187 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:08.537  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c069eee8-ad47-4e2f-986a-815f84ac7e2e
2024-09-05 16:49:08.537  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:49:08.537  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:49:08.537  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId c069eee8-ad47-4e2f-986a-815f84ac7e2e associated to correlationId null for domain null
2024-09-05 16:49:08.539  WARN 70881 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:49:08.554  INFO 70881 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId c069eee8-ad47-4e2f-986a-815f84ac7e2e associated to correlationId null for domain null
2024-09-05 16:49:11.915  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 956d96a3-5900-4d7b-b3ae-52e507920c83
2024-09-05 16:49:11.916  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:49:11.916  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:49:11.916  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 956d96a3-5900-4d7b-b3ae-52e507920c83 associated to correlationId null for domain null
2024-09-05 16:49:11.917  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f5e57be9-612e-48a1-91a1-3088b4df5d67
2024-09-05 16:49:11.918  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:49:11.918  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:49:11.918  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId f5e57be9-612e-48a1-91a1-3088b4df5d67 associated to correlationId null for domain null
2024-09-05 16:49:11.919  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:49:11.922  WARN 70881 --- [http-nio-8081-exec-9] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:49:11.935  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 956d96a3-5900-4d7b-b3ae-52e507920c83 associated to correlationId null for domain null
2024-09-05 16:49:11.941  INFO 70881 --- [http-nio-8081-exec-9] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:49:11.946  INFO 70881 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId f5e57be9-612e-48a1-91a1-3088b4df5d67 associated to correlationId null for domain null
2024-09-05 16:49:14.465 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:49:14.465 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:49:17.193 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:27.200 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:37.206 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:47.212 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:49:57.218 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:07.224 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:17.230 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:27.260 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:37.266 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:47.271 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:50:57.277 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:07.282 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:11.174  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 75236026-c310-4e03-9b4e-e8944aef5fdf
2024-09-05 16:51:11.174  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:11.174  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:11.174  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 75236026-c310-4e03-9b4e-e8944aef5fdf associated to correlationId null for domain null
2024-09-05 16:51:11.186  WARN 70881 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:51:11.194  INFO 70881 --- [http-nio-8081-exec-4] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:51:11.212  INFO 70881 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 75236026-c310-4e03-9b4e-e8944aef5fdf associated to correlationId null for domain null
2024-09-05 16:51:11.251  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f32dfeb2-e3b6-4d8b-b8d5-a202bed96cc7
2024-09-05 16:51:11.251  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:11.251  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:11.252  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId f32dfeb2-e3b6-4d8b-b8d5-a202bed96cc7 associated to correlationId null for domain null
2024-09-05 16:51:11.258  INFO 70881 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId f32dfeb2-e3b6-4d8b-b8d5-a202bed96cc7 associated to correlationId null for domain null
2024-09-05 16:51:11.292  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0fcb0913-0aaf-44d2-9868-9fed1af52b44
2024-09-05 16:51:11.294  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:11.294  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:11.294  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 0fcb0913-0aaf-44d2-9868-9fed1af52b44 associated to correlationId null for domain null
2024-09-05 16:51:11.297  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:51:11.308  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 0fcb0913-0aaf-44d2-9868-9fed1af52b44 associated to correlationId null for domain null
2024-09-05 16:51:14.342  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: f0a26e15-b09d-48df-8007-6fb85ed106bb
2024-09-05 16:51:14.342  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:14.342  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:14.342  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId f0a26e15-b09d-48df-8007-6fb85ed106bb associated to correlationId null for domain null
2024-09-05 16:51:14.345  WARN 70881 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:51:14.351  INFO 70881 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId f0a26e15-b09d-48df-8007-6fb85ed106bb associated to correlationId null for domain null
2024-09-05 16:51:14.358  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: a4ed5a68-84d7-48c1-b018-fc855eb822f4
2024-09-05 16:51:14.360  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:51:14.360  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:51:14.360  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId a4ed5a68-84d7-48c1-b018-fc855eb822f4 associated to correlationId null for domain null
2024-09-05 16:51:14.364  WARN 70881 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:51:14.375  INFO 70881 --- [http-nio-8081-exec-6] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:51:14.376  INFO 70881 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId a4ed5a68-84d7-48c1-b018-fc855eb822f4 associated to correlationId null for domain null
2024-09-05 16:51:14.473 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:51:14.473 DEBUG 70881 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:51:17.289 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:27.295 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:37.300 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:47.306 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:51:57.311 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:52:04.464  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:52:04.464  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:52:04.464  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:52:04.464  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:04.465  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:52:04.466  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:52:04.466  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:04.468  WARN 70881 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:52:04.471  INFO 70881 --- [http-nio-8081-exec-10] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:52:05.125 ERROR 70881 --- [http-nio-8081-exec-10] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: "{"error":"invalid_scope","error_description":"Invalid scopes: launch online_access offline_access user/*.read"}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:101)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:05.127  INFO 70881 --- [http-nio-8081-exec-10] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:52:05.128  INFO 70881 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:05.128 ERROR 70881 --- [http-nio-8081-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:07.316 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:52:11.558  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:52:11.559  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:52:11.559  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:52:11.559  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:11.560  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:52:11.560  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:52:11.561  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:11.563  WARN 70881 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:52:11.566  INFO 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:52:11.918 ERROR 70881 --- [http-nio-8081-exec-2] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: "{"error":"invalid_scope","error_description":"Invalid scopes: launch online_access offline_access user/*.read"}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:101)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:11.919  INFO 70881 --- [http-nio-8081-exec-2] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:52:11.919  INFO 70881 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:11.920 ERROR 70881 --- [http-nio-8081-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:17.024  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:52:17.024  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:52:17.024  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:52:17.024  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:17.025  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:52:17.026  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:52:17.027  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:17.030  WARN 70881 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:52:17.033  INFO 70881 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:52:17.323 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:52:18.286 ERROR 70881 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: "{"error":"invalid_scope","error_description":"Invalid scopes: launch online_access offline_access user/*.read"}"
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:101)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$b5684c04.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:18.288  INFO 70881 --- [http-nio-8081-exec-5] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:52:18.289  INFO 70881 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:52:18.290 ERROR 70881 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$81be87b1.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:52:27.328 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:52:35.768  INFO 70881 --- [SpringApplicationShutdownHook] c.g.kagkarlsson.scheduler.Scheduler      : Shutting down Scheduler.
2024-09-05 16:52:35.769 DEBUG 70881 --- [db-scheduler-execute-due-pool-2-thread-1] c.g.k.scheduler.RunUntilShutdown         : Thread 'db-scheduler-execute-due-pool-2-thread-1' interrupted due to shutdown.
2024-09-05 16:52:35.770  INFO 70881 --- [SpringApplicationShutdownHook] c.github.kagkarlsson.scheduler.Executor  : Letting running executions finish. Will wait up to 2xPT30M.
2024-09-05 16:52:35.770  INFO 70881 --- [SpringApplicationShutdownHook] c.github.kagkarlsson.scheduler.Executor  : Scheduler stopped.
2024-09-05 16:52:35.800  INFO 70881 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-09-05 16:52:35.806  INFO 70881 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-09-05 16:52:39.439  INFO 13585 --- [main] com.drajer.ecrapp.EcrApp                 : Starting EcrApp v0.0.1-SNAPSHOT using Java 22.0.1 on MacBook-Pro-2019.local with PID 13585 (/Users/andrewkrylov/eCRNow/target/ecr-now.war started by andrewkrylov in /Users/andrewkrylov/eCRNow)
2024-09-05 16:52:39.443  INFO 13585 --- [main] com.drajer.ecrapp.EcrApp                 : No active profile set, falling back to 1 default profile: "default"
2024-09-05 16:52:41.520  INFO 13585 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-09-05 16:52:41.722  INFO 13585 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 183 ms. Found 0 JPA repository interfaces.
2024-09-05 16:52:42.225  INFO 13585 --- [main] ca.uhn.fhir.util.VersionUtil             : HAPI FHIR version 5.4.0 - Rev b463b072c8
2024-09-05 16:52:42.234  INFO 13585 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:52:43.463  INFO 13585 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2024-09-05 16:52:43.476  INFO 13585 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-09-05 16:52:43.477  INFO 13585 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
2024-09-05 16:52:48.498  INFO 13585 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-09-05 16:52:48.499  INFO 13585 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8974 ms
2024-09-05 16:52:49.290  INFO 13585 --- [main] o.s.boot.web.servlet.RegistrationBean    : Filter requestMDCFilter was not registered (possibly already registered?)
2024-09-05 16:52:49.952  INFO 13585 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2024-09-05 16:52:50.289  INFO 13585 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-09-05 16:52:50.420  WARN 13585 --- [main] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2024-09-05 16:52:50.420  INFO 13585 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-09-05 16:52:50.660  INFO 13585 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-09-05 16:52:50.688  INFO 13585 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2024-09-05 16:52:51.227  WARN 13585 --- [main] org.hibernate.mapping.RootClass          : HHH000038: Composite-id class does not override equals(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-05 16:52:51.227  WARN 13585 --- [main] org.hibernate.mapping.RootClass          : HHH000039: Composite-id class does not override hashCode(): com.drajer.ecrapp.model.ScheduledTasks
2024-09-05 16:52:51.560  INFO 13585 --- [main] c.drajer.bsa.model.PublicHealthMessage   : PublicHealthMessage initiated.
2024-09-05 16:52:52.460  INFO 13585 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-09-05 16:52:52.992  INFO 13585 --- [main] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  No custom queries defined
2024-09-05 16:52:53.023  INFO 13585 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:52:53.109  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-05 16:52:53.141  INFO 13585 --- [main] ca.uhn.fhir.util.XmlUtil                 : Unable to determine StAX implementation: java.xml/META-INF/MANIFEST.MF not found
2024-09-05 16:52:55.626  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-05 16:52:55.736  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-05 16:52:56.141  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-05 16:52:56.498  INFO 13585 --- [main] c.d.b.s.ScheduleJobConfiguration         : Initializing the One time task
2024-09-05 16:52:56.512  INFO 13585 --- [main] c.d.ecrapp.config.TaskConfiguration      : Initializing the One time task
2024-09-05 16:52:56.512  INFO 13585 --- [main] c.d.ecrapp.config.TaskConfiguration      : One time task execution done
2024-09-05 16:52:56.535 DEBUG 13585 --- [main] .b.a.DbSchedulerMetricsAutoConfiguration : Spring Boot Actuator and Micrometer detected. Will use: io.micrometer.core.instrument.simple.SimpleMeterRegistry for StatsRegistry
2024-09-05 16:52:56.542  INFO 13585 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : Creating db-scheduler using tasks from Spring context: [OneTimeTask name=BsaScheduledJob, OneTimeTask name=EICRTask]
2024-09-05 16:52:56.543 DEBUG 13585 --- [main] c.g.k.s.b.a.DbSchedulerAutoConfiguration : The configured DataSource is not transaction aware: 'HikariDataSource (HikariPool-1)'. Wrapping in TransactionAwareDataSourceProxy.
2024-09-05 16:52:56.549 DEBUG 13585 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detecting database...
2024-09-05 16:52:56.560  INFO 13585 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Detected database PostgreSQL.
2024-09-05 16:52:56.560  INFO 13585 --- [main] c.g.k.s.j.AutodetectJdbcCustomization    : Using PostgreSQL jdbc-overrides.
2024-09-05 16:52:56.568  INFO 13585 --- [main] c.g.k.scheduler.SchedulerBuilder         : Creating scheduler with configuration: threads=10, pollInterval=10s, heartbeat=60s enable-immediate-execution=false, table-name=scheduled_tasks, name=eCRNow-Instance-1
2024-09-05 16:52:56.573  INFO 13585 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Using polling-strategy: type=FETCH, lowerLimit=0.5, upperLimit=3.0
2024-09-05 16:52:56.911  INFO 13585 --- [main] c.d.e.service.PlanDefinitionProcessor    :  Reading ERSD Bundle File 
2024-09-05 16:52:56.914 ERROR 13585 --- [main] c.d.e.service.PlanDefinitionProcessor    : Exception Reading ERSD File

java.io.FileNotFoundException: /users/andrewkrylov/Downloads/ersd.json (No such file or directory)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.readErsdBundleFromFile(PlanDefinitionProcessor.java:343)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.processResourceBundle(PlanDefinitionProcessor.java:100)
	at com.drajer.ecrapp.service.PlanDefinitionProcessor.initializeClientMethods(PlanDefinitionProcessor.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:920)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)
	at com.drajer.ecrapp.EcrApp.main(EcrApp.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)

2024-09-05 16:52:56.957  INFO 13585 --- [main] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:52:57.127  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml
2024-09-05 16:52:58.117  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml
2024-09-05 16:52:58.195  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml
2024-09-05 16:52:58.427  INFO 13585 --- [main] .u.f.c.s.DefaultProfileValidationSupport : Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml
2024-09-05 16:52:58.708  INFO 13585 --- [main] c.drajer.bsa.service.impl.KarParserImpl  :  Persisting Kars for each Repo 
2024-09-05 16:52:58.898  WARN 13585 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 432457d9-b060-4a62-9c24-533500228a61

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2024-09-05 16:52:59.005  INFO 13585 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-05 16:52:59.016  INFO 13585 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Security Configuration 
2024-09-05 16:52:59.016  INFO 13585 --- [main] c.d.ecrapp.config.WebSecurityConfig      : *******************************************************************
2024-09-05 16:52:59.016  INFO 13585 --- [main] c.d.ecrapp.config.WebSecurityConfig      : Token Filter class Name is empty
2024-09-05 16:52:59.022  WARN 13585 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/meta/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-05 16:52:59.023  INFO 13585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/meta/**']
2024-09-05 16:52:59.023  WARN 13585 --- [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/actuator/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-09-05 16:52:59.024  INFO 13585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/actuator/**']
2024-09-05 16:52:59.186  INFO 13585 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58cda03f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7757a37f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7df4709e, org.springframework.security.web.header.HeaderWriterFilter@563172d3, org.springframework.security.web.authentication.logout.LogoutFilter@1a0d313, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@559fd5ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18989e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2109a691, org.springframework.security.web.session.SessionManagementFilter@785a4557, org.springframework.security.web.access.ExceptionTranslationFilter@782cc5fa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f06ebe0]
2024-09-05 16:53:00.856  INFO 13585 --- [main] c.g.k.s.b.config.startup.ImmediateStart  : Triggering scheduler start
2024-09-05 16:53:00.856  INFO 13585 --- [main] c.g.kagkarlsson.scheduler.Scheduler      : Starting scheduler.
2024-09-05 16:53:00.858 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:53:00.860 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:53:00.868 DEBUG 13585 --- [main] b.a.DbSchedulerActuatorAutoConfiguration : Exposing health indicator for db-scheduler
2024-09-05 16:53:00.873 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:01.740  INFO 13585 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2024-09-05 16:53:01.869  INFO 13585 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2024-09-05 16:53:01.897  INFO 13585 --- [main] com.drajer.ecrapp.EcrApp                 : Started EcrApp in 23.331 seconds (JVM running for 24.181)
2024-09-05 16:53:10.879 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:20.889 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:30.895 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:40.902 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:53:50.932 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:00.938 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:10.943 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:20.951 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:30.957 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:36.232  INFO 13585 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-09-05 16:54:36.233  INFO 13585 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-09-05 16:54:36.239  INFO 13585 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2024-09-05 16:54:36.287  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 03268ce1-99df-40b0-8fc0-a6d419acd439
2024-09-05 16:54:36.287  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:54:36.287  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:54:36.287  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 03268ce1-99df-40b0-8fc0-a6d419acd439 associated to correlationId null for domain null
2024-09-05 16:54:36.525  WARN 13585 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:36.573  WARN 13585 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:36.593  INFO 13585 --- [http-nio-8081-exec-1] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:54:36.649  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 03268ce1-99df-40b0-8fc0-a6d419acd439 associated to correlationId null for domain null
2024-09-05 16:54:36.692  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 8f43b0e9-1ab9-47ff-abea-b8d2e7752ee2
2024-09-05 16:54:36.693  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:54:36.694  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:54:36.696  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 8f43b0e9-1ab9-47ff-abea-b8d2e7752ee2 associated to correlationId null for domain null
2024-09-05 16:54:36.716  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 8f43b0e9-1ab9-47ff-abea-b8d2e7752ee2 associated to correlationId null for domain null
2024-09-05 16:54:36.857  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 8600afb9-7209-4b5c-8ac5-78f10a1d70ce
2024-09-05 16:54:36.871  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:54:36.872  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:54:36.872  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId 8600afb9-7209-4b5c-8ac5-78f10a1d70ce associated to correlationId null for domain null
2024-09-05 16:54:36.880  WARN 13585 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:36.899  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId 8600afb9-7209-4b5c-8ac5-78f10a1d70ce associated to correlationId null for domain null
2024-09-05 16:54:40.964 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:54:41.051  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:54:41.051  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:54:41.051  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:54:41.051  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:54:41.056  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:54:41.056  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:54:41.057  WARN 13585 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:41.059  WARN 13585 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:54:41.078  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:54:41.079  INFO 13585 --- [http-nio-8081-exec-5] ca.uhn.fhir.context.FhirContext          : Creating new FHIR context for FHIR version [R4]
2024-09-05 16:54:41.080  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:54:41.080  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:54:41.084  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 16:54:41.084  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : ecr
2024-09-05 16:54:41.084  INFO 13585 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 16:54:41.825 ERROR 13585 --- [http-nio-8081-exec-5] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$169cbf47.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:54:41.826  INFO 13585 --- [http-nio-8081-exec-5] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:54:41.829  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:54:41.831 ERROR 13585 --- [http-nio-8081-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:54:50.970 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:00.875 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:55:00.876 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:55:00.978 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:10.983 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:20.989 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:30.427  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c8d7ac9b-dcb1-4f2d-aad3-a527564b4d7d
2024-09-05 16:55:30.428  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:55:30.428  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:55:30.428  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId c8d7ac9b-dcb1-4f2d-aad3-a527564b4d7d associated to correlationId null for domain null
2024-09-05 16:55:30.441  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 1aff3947-5c75-4299-a32f-e8128dda08ab
2024-09-05 16:55:30.442  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:55:30.443  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:55:30.443  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 1aff3947-5c75-4299-a32f-e8128dda08ab associated to correlationId null for domain null
2024-09-05 16:55:30.450  WARN 13585 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:55:30.456  WARN 13585 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:55:30.457  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId c8d7ac9b-dcb1-4f2d-aad3-a527564b4d7d associated to correlationId null for domain null
2024-09-05 16:55:30.460  INFO 13585 --- [http-nio-8081-exec-7] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:55:30.463  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 1aff3947-5c75-4299-a32f-e8128dda08ab associated to correlationId null for domain null
2024-09-05 16:55:30.995 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:41.000 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:55:51.007 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:01.014 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:11.020 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:21.025 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:31.030 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:41.036 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:56:51.039 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:00.880 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:57:00.881 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:57:01.048 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:11.052 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:21.064 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:31.070 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:41.074 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:51.082 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:57:55.261  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 1f46bdda-2163-4dd0-ac7b-be3d99a0b1f6
2024-09-05 16:57:55.262  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:57:55.263  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:57:55.263  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 1f46bdda-2163-4dd0-ac7b-be3d99a0b1f6 associated to correlationId null for domain null
2024-09-05 16:57:55.270  WARN 13585 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:57:55.273  WARN 13585 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:57:55.283  INFO 13585 --- [http-nio-8081-exec-10] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:57:55.292  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 1f46bdda-2163-4dd0-ac7b-be3d99a0b1f6 associated to correlationId null for domain null
2024-09-05 16:57:55.341  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 39b4224d-314d-4036-823f-ff92691276d4
2024-09-05 16:57:55.341  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:57:55.341  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:57:55.341  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 39b4224d-314d-4036-823f-ff92691276d4 associated to correlationId null for domain null
2024-09-05 16:57:55.350  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 39b4224d-314d-4036-823f-ff92691276d4 associated to correlationId null for domain null
2024-09-05 16:57:55.417  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: a9a4fb45-540a-4578-85e2-eb60348906fe
2024-09-05 16:57:55.418  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:57:55.418  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:57:55.418  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId a9a4fb45-540a-4578-85e2-eb60348906fe associated to correlationId null for domain null
2024-09-05 16:57:55.421  WARN 13585 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:57:55.432  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId a9a4fb45-540a-4578-85e2-eb60348906fe associated to correlationId null for domain null
2024-09-05 16:58:01.088 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:01.267  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 16:58:01.268  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:58:01.268  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:58:01.268  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 16:58:01.270  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 16:58:01.270  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 16:58:01.271  WARN 13585 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:01.274  WARN 13585 --- [http-nio-8081-exec-4] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:01.282  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 16:58:01.283  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 16:58:01.283  INFO 13585 --- [http-nio-8081-exec-4] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 16:58:01.301 ERROR 13585 --- [http-nio-8081-exec-4] .d.b.a.i.BackendAuthorizationServiceImpl : Exception Occurred: 

java.io.FileNotFoundException: /users/andrewkrylov/ecrnow/aims.jks (No such file or directory)
	at java.base/java.io.FileInputStream.open0(Native Method)
	at java.base/java.io.FileInputStream.open(FileInputStream.java:213)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:152)
	at java.base/java.io.FileInputStream.<init>(FileInputStream.java:106)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.generateJwt(BackendAuthorizationServiceImpl.java:152)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.connectToServer(BackendAuthorizationServiceImpl.java:79)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.getAuthorizationToken(BackendAuthorizationServiceImpl.java:100)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl$$FastClassBySpringCGLIB$$8555f74d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl$$EnhancerBySpringCGLIB$$5270ea71.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:40)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:58:01.746 ERROR 13585 --- [http-nio-8081-exec-4] .d.b.a.i.BackendAuthorizationServiceImpl : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:474)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.connectToServer(BackendAuthorizationServiceImpl.java:91)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl.getAuthorizationToken(BackendAuthorizationServiceImpl.java:100)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl$$FastClassBySpringCGLIB$$8555f74d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.BackendAuthorizationServiceImpl$$EnhancerBySpringCGLIB$$5270ea71.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:40)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:58:01.747  INFO 13585 --- [http-nio-8081-exec-4] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 16:58:01.748  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 16:58:01.749 ERROR 13585 --- [http-nio-8081-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:58:11.095 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:21.101 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:31.107 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:38.206  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 4ad4902f-cc3f-4cd6-b829-3d0ea104f5c5
2024-09-05 16:58:38.206  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:58:38.209  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:58:38.209  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0ce17f78-0133-4c75-a2c4-d51869c181da
2024-09-05 16:58:38.210  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:58:38.216  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:58:38.216  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId 0ce17f78-0133-4c75-a2c4-d51869c181da associated to correlationId null for domain null
2024-09-05 16:58:38.209  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId 4ad4902f-cc3f-4cd6-b829-3d0ea104f5c5 associated to correlationId null for domain null
2024-09-05 16:58:38.225  WARN 13585 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:38.231  WARN 13585 --- [http-nio-8081-exec-5] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:38.232  INFO 13585 --- [http-nio-8081-exec-6] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:58:38.236  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId 4ad4902f-cc3f-4cd6-b829-3d0ea104f5c5 associated to correlationId null for domain null
2024-09-05 16:58:38.252  INFO 13585 --- [http-nio-8081-exec-5] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId 0ce17f78-0133-4c75-a2c4-d51869c181da associated to correlationId null for domain null
2024-09-05 16:58:41.113 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:51.119 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:58:57.597  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: e2bdde5a-6bf2-437e-ae82-a4ff618059a5
2024-09-05 16:58:57.598  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:58:57.598  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:58:57.598  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId e2bdde5a-6bf2-437e-ae82-a4ff618059a5 associated to correlationId null for domain null
2024-09-05 16:58:57.605  WARN 13585 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:57.613  WARN 13585 --- [http-nio-8081-exec-7] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:58:57.632  INFO 13585 --- [http-nio-8081-exec-7] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:58:57.651  INFO 13585 --- [http-nio-8081-exec-7] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId e2bdde5a-6bf2-437e-ae82-a4ff618059a5 associated to correlationId null for domain null
2024-09-05 16:58:57.656 ERROR 13585 --- [http-nio-8081-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId; nested exception is org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId] with root cause

org.hibernate.PropertyValueException: not-null property references a null or transient value : com.drajer.bsa.model.HealthcareSetting.clientId
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:55)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:320)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:175)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:93)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.hibernate5.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:643)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.service.impl.HealthcareSettingsServiceImpl$$EnhancerBySpringCGLIB$$d7ae220b.saveOrUpdate(<generated>)
	at com.drajer.bsa.controller.HealthcareSettingsController.updateHealthcareSettings(HealthcareSettingsController.java:135)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:558)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 16:59:00.889 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 16:59:00.891 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 16:59:01.125 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:11.132 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:21.138 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:31.144 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:33.668  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c1bb70b6-b974-4046-a212-f9459d7a9237
2024-09-05 16:59:33.669  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:33.669  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:33.669  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId c1bb70b6-b974-4046-a212-f9459d7a9237 associated to correlationId null for domain null
2024-09-05 16:59:33.677  WARN 13585 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:33.685  WARN 13585 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:33.689  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:59:33.695  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId c1bb70b6-b974-4046-a212-f9459d7a9237 associated to correlationId null for domain null
2024-09-05 16:59:33.734  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0c931dbb-7d44-4da9-a4c4-c4e5e84bc75d
2024-09-05 16:59:33.734  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:33.734  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:33.734  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId 0c931dbb-7d44-4da9-a4c4-c4e5e84bc75d associated to correlationId null for domain null
2024-09-05 16:59:33.739  INFO 13585 --- [http-nio-8081-exec-9] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId 0c931dbb-7d44-4da9-a4c4-c4e5e84bc75d associated to correlationId null for domain null
2024-09-05 16:59:33.831  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ae6251d5-0486-4f11-80d0-91976a096fe1
2024-09-05 16:59:33.832  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:33.832  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:33.832  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId ae6251d5-0486-4f11-80d0-91976a096fe1 associated to correlationId null for domain null
2024-09-05 16:59:33.835  WARN 13585 --- [http-nio-8081-exec-10] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:33.843  INFO 13585 --- [http-nio-8081-exec-10] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId ae6251d5-0486-4f11-80d0-91976a096fe1 associated to correlationId null for domain null
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: ce8222f8-45ff-4863-a610-f1afbd8c2cc9
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: eaf63795-056a-4cbf-8d10-ad422df895a0
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId being handled for requestId eaf63795-056a-4cbf-8d10-ad422df895a0 associated to correlationId null for domain null
2024-09-05 16:59:37.034  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ being handled for requestId ce8222f8-45ff-4863-a610-f1afbd8c2cc9 associated to correlationId null for domain null
2024-09-05 16:59:37.038  WARN 13585 --- [http-nio-8081-exec-1] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:37.038  WARN 13585 --- [http-nio-8081-exec-2] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:37.043  INFO 13585 --- [http-nio-8081-exec-1] c.d.ecrapp.security.RequestMDCFilter     : Request /api/kars/ completed for requestId ce8222f8-45ff-4863-a610-f1afbd8c2cc9 associated to correlationId null for domain null
2024-09-05 16:59:37.049  INFO 13585 --- [http-nio-8081-exec-2] com.drajer.bsa.dao.impl.KarDaoImpl       : Getting KAR Status by hsId. 
2024-09-05 16:59:37.053  INFO 13585 --- [http-nio-8081-exec-2] c.d.ecrapp.security.RequestMDCFilter     : Request /api/karStatusByHsId completed for requestId eaf63795-056a-4cbf-8d10-ad422df895a0 associated to correlationId null for domain null
2024-09-05 16:59:41.152 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 16:59:41.591  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: 0099748c-d797-4ecc-a5b5-9e52776b1823
2024-09-05 16:59:41.591  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:41.591  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:41.591  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings being handled for requestId 0099748c-d797-4ecc-a5b5-9e52776b1823 associated to correlationId null for domain null
2024-09-05 16:59:41.595  WARN 13585 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:41.599  WARN 13585 --- [http-nio-8081-exec-3] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:41.604  INFO 13585 --- [http-nio-8081-exec-3] c.d.b.c.HealthcareSettingsController     : Saving the Client Details
2024-09-05 16:59:41.650  INFO 13585 --- [http-nio-8081-exec-3] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings completed for requestId 0099748c-d797-4ecc-a5b5-9e52776b1823 associated to correlationId null for domain null
2024-09-05 16:59:41.752  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c8b3bbaf-c78f-45f8-97a8-b1fca7181070
2024-09-05 16:59:41.752  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:41.752  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:41.753  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ being handled for requestId c8b3bbaf-c78f-45f8-97a8-b1fca7181070 associated to correlationId null for domain null
2024-09-05 16:59:41.773  INFO 13585 --- [http-nio-8081-exec-4] c.d.ecrapp.security.RequestMDCFilter     : Request /api/addKARStatus/ completed for requestId c8b3bbaf-c78f-45f8-97a8-b1fca7181070 associated to correlationId null for domain null
2024-09-05 16:59:41.845  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Request-ID header found; creating new requestId: c4e4df63-2241-4c43-a6c7-45640a5d10c5
2024-09-05 16:59:41.845  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 16:59:41.846  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 16:59:41.846  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ being handled for requestId c4e4df63-2241-4c43-a6c7-45640a5d10c5 associated to correlationId null for domain null
2024-09-05 16:59:41.851  WARN 13585 --- [http-nio-8081-exec-6] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 16:59:41.864  INFO 13585 --- [http-nio-8081-exec-6] c.d.ecrapp.security.RequestMDCFilter     : Request /api/healthcareSettings/ completed for requestId c4e4df63-2241-4c43-a6c7-45640a5d10c5 associated to correlationId null for domain null
2024-09-05 16:59:51.159 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:01.164 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:11.170 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:21.179 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:31.184 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:40.100  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Using given X-Request-ID header for requestId: 123
2024-09-05 17:00:40.100  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Correlation-ID header found.
2024-09-05 17:00:40.101  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : No X-Domain-LogicalDomain-ID header found.
2024-09-05 17:00:40.101  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient being handled for requestId 123 associated to correlationId null for domain null
2024-09-05 17:00:40.103  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : Patient launch request received for fhirServerUrl: https://kodjin-ffs-90491.edenlab.dev/fhir, patientId: fc81b525-89c5-4c3e-a804-70994b8e2e83, encounterId: f3d83e1b-0fa6-4cd3-9d16-c4caa4a7f43d, requestId: 123, throttleContext: null
2024-09-05 17:00:40.104  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.c.PatientLaunchController          : fhirVersion
2024-09-05 17:00:40.105  WARN 13585 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 17:00:40.108  WARN 13585 --- [http-nio-8081-exec-8] org.hibernate.orm.deprecation            : HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Getting FHIR Context for R4
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    : Initializing FHIR Client
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.e.s.i.EhrFhirR4QueryServiceImpl    :  Retrieving New Access Token since the old one is not valid anymore 
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for EHR FHIR URL : https://kodjin-ffs-90491.edenlab.dev/fhir
2024-09-05 17:00:40.117  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Getting AccessToken for Client Id : cer
2024-09-05 17:00:40.118  INFO 13585 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    :  System Launch/Multi-tenant System Launch authorization is configured for EHR System
2024-09-05 17:00:41.189 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:00:43.667 ERROR 13585 --- [http-nio-8081-exec-8] c.d.b.a.impl.AuthorizationServiceImpl    : Error in Getting the AccessToken for the client: https://kodjin-ffs-90491.edenlab.dev/fhir

org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class com.drajer.sof.model.Response] and content type [text/html;charset=UTF-8]
	at org.springframework.web.client.HttpMessageConverterExtractor.extractData(HttpMessageConverterExtractor.java:126)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1043)
	at org.springframework.web.client.RestTemplate$ResponseEntityResponseExtractor.extractData(RestTemplate.java:1026)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:608)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl.getAuthorizationToken(AuthorizationServiceImpl.java:81)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$FastClassBySpringCGLIB$$fe878e7f.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.auth.impl.AuthorizationServiceImpl$$EnhancerBySpringCGLIB$$169cbf47.getAuthorizationToken(<generated>)
	at com.drajer.bsa.auth.AuthorizationUtils.getToken(AuthorizationUtils.java:44)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:448)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 17:00:43.667  INFO 13585 --- [http-nio-8081-exec-8] com.drajer.bsa.auth.AuthorizationUtils   : Returning token null
2024-09-05 17:00:43.669  INFO 13585 --- [http-nio-8081-exec-8] c.d.ecrapp.security.RequestMDCFilter     : Request /api/launchPatient completed for requestId 123 associated to correlationId null for domain null
2024-09-05 17:00:43.670 ERROR 13585 --- [http-nio-8081-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null] with root cause

java.lang.NullPointerException: Cannot invoke "org.json.JSONObject.getString(String)" because "tokenResponse" is null
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.retrieveAndUpdateAccessToken(EhrFhirR4QueryServiceImpl.java:450)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getClient(EhrFhirR4QueryServiceImpl.java:430)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl.getResourceById(EhrFhirR4QueryServiceImpl.java:723)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$FastClassBySpringCGLIB$$8d286dee.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.drajer.bsa.ehr.service.impl.EhrFhirR4QueryServiceImpl$$EnhancerBySpringCGLIB$$e2f2faf4.getResourceById(<generated>)
	at com.drajer.bsa.controller.PatientLaunchController.getNotificationBundle(PatientLaunchController.java:286)
	at com.drajer.bsa.controller.PatientLaunchController.launchPatient(PatientLaunchController.java:100)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at com.drajer.ecrapp.security.RequestMDCFilter.doFilter(RequestMDCFilter.java:82)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1570)

2024-09-05 17:00:51.195 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:00.898 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:01:00.949 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:01:01.201 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:11.214 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:21.224 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:31.228 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:41.235 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:01:51.242 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:01.250 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:11.257 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:21.262 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:31.269 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:41.275 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:02:51.280 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:01.002 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:03:01.002 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:03:01.286 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:11.291 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:21.297 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:31.302 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:41.309 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:03:51.315 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:01.321 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:11.326 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:21.333 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:31.339 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:41.345 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:04:51.350 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:01.010 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:05:01.010 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:05:01.356 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:11.361 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:21.368 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:31.373 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:41.380 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:05:51.397 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:01.405 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:11.411 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:21.416 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:31.422 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:41.428 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:06:51.433 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:01.020 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:07:01.020 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:07:01.438 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:11.444 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:21.449 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:31.455 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:41.459 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:07:51.466 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:01.472 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:11.476 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:21.482 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:31.489 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:41.495 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:08:51.501 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:00.947 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:09:00.948 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:09:01.423 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:11.435 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:27.568 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:37.606 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:47.622 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:09:57.630 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:10:07.638 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:05.107 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:13.325  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m15s998ms).
2024-09-05 17:23:15.118 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:25.116 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:35.127 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:45.136 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:23:52.414 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 17:23:52.417 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-3] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 17:23:55.144 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:45:25.842 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:45:34.037  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=21m50s708ms).
2024-09-05 17:45:35.863 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:45:45.883 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:45:55.902 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 17:46:05.913 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:04.776 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:14.784 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:22.911  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h24m18s855ms).
2024-09-05 19:10:24.793 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:34.797 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 19:10:44.907 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:09:23.205 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:09:27.975 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 20:09:27.977 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 20:11:13.379  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h19s849ms).
2024-09-05 20:11:14.581 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:11:24.637 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:11:34.652 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:11:44.664 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 20:11:54.676 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:12:28.345  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h44s885ms).
2024-09-05 21:12:30.011 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:12:39.848 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:12:45.332 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 21:12:45.335 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-2] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 21:12:49.861 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:12:59.871 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 21:13:09.883 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:13:45.247  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h45s428ms).
2024-09-05 22:13:46.031 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:13:56.248 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:14:06.256 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:14:16.266 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:14:26.270 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:23:40.462  WARN 13585 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=9m24s277ms).
2024-09-05 22:23:40.453 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Deleting executions with unresolved tasks.
2024-09-05 22:23:41.060 DEBUG 13585 --- [db-scheduler-housekeeper-pool-3-thread-1] c.g.kagkarlsson.scheduler.Scheduler      : Checking for dead executions.
2024-09-05 22:23:41.632 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:23:51.640 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:24:01.653 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:24:11.665 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
2024-09-05 22:24:21.679 DEBUG 13585 --- [db-scheduler-execute-due-pool-2-thread-1] com.github.kagkarlsson.scheduler.Waiter  : Waiter start wait.
